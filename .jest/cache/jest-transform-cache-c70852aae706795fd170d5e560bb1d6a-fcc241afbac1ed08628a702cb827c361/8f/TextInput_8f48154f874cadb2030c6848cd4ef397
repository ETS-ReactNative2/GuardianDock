50c9f1d8d8ad5526e8e4310789d61445
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var React = _interopRequireWildcard(require("react"));

var _DeprecatedTextInputPropTypes = _interopRequireDefault(require("../../DeprecatedPropTypes/DeprecatedTextInputPropTypes"));

var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));

var _StyleSheet = _interopRequireDefault(require("../../StyleSheet/StyleSheet"));

var _Text = _interopRequireDefault(require("../../Text/Text"));

var _TextAncestor = _interopRequireDefault(require("../../Text/TextAncestor"));

var _TextInputState = _interopRequireDefault(require("./TextInputState"));

var _invariant = _interopRequireDefault(require("invariant"));

var _nullthrows = _interopRequireDefault(require("nullthrows"));

var _setAndForwardRef = _interopRequireDefault(require("../../Utilities/setAndForwardRef"));

var _usePressability = _interopRequireDefault(require("../../Pressability/usePressability"));

var _jsxRuntime = require("react/jsx-runtime");

var _excluded = ["onBlur", "onFocus"],
    _excluded2 = ["allowFontScaling", "rejectResponderTermination", "underlineColorAndroid"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var useLayoutEffect = React.useLayoutEffect,
    useRef = React.useRef,
    useState = React.useState;
var AndroidTextInput;
var AndroidTextInputCommands;
var RCTSinglelineTextInputView;
var RCTSinglelineTextInputNativeCommands;
var RCTMultilineTextInputView;
var RCTMultilineTextInputNativeCommands;

if (_Platform.default.OS === 'android') {
  AndroidTextInput = require("./AndroidTextInputNativeComponent").default;
  AndroidTextInputCommands = require("./AndroidTextInputNativeComponent").Commands;
} else if (_Platform.default.OS === 'ios') {
  RCTSinglelineTextInputView = require("./RCTSingelineTextInputNativeComponent").default;
  RCTSinglelineTextInputNativeCommands = require("./RCTSingelineTextInputNativeComponent").Commands;
  RCTMultilineTextInputView = require("./RCTMultilineTextInputNativeComponent").default;
  RCTMultilineTextInputNativeCommands = require("./RCTMultilineTextInputNativeComponent").Commands;
}

var emptyFunctionThatReturnsTrue = function emptyFunctionThatReturnsTrue() {
  return true;
};

function InternalTextInput(props) {
  var _props$selection$end, _props$blurOnSubmit;

  var inputRef = useRef(null);
  var selection = props.selection == null ? null : {
    start: props.selection.start,
    end: (_props$selection$end = props.selection.end) != null ? _props$selection$end : props.selection.start
  };

  var _useState = useState(0),
      _useState2 = (0, _slicedToArray2.default)(_useState, 2),
      mostRecentEventCount = _useState2[0],
      setMostRecentEventCount = _useState2[1];

  var _useState3 = useState(props.value),
      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
      lastNativeText = _useState4[0],
      setLastNativeText = _useState4[1];

  var _useState5 = useState({
    selection: selection,
    mostRecentEventCount: mostRecentEventCount
  }),
      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
      lastNativeSelectionState = _useState6[0],
      setLastNativeSelection = _useState6[1];

  var lastNativeSelection = lastNativeSelectionState.selection;
  var lastNativeSelectionEventCount = lastNativeSelectionState.mostRecentEventCount;

  if (lastNativeSelectionEventCount < mostRecentEventCount) {
    selection = null;
  }

  var viewCommands;

  if (AndroidTextInputCommands) {
    viewCommands = AndroidTextInputCommands;
  } else {
    viewCommands = props.multiline === true ? RCTMultilineTextInputNativeCommands : RCTSinglelineTextInputNativeCommands;
  }

  var text = typeof props.value === 'string' ? props.value : typeof props.defaultValue === 'string' ? props.defaultValue : '';
  useLayoutEffect(function () {
    var nativeUpdate = {};

    if (lastNativeText !== props.value && typeof props.value === 'string') {
      nativeUpdate.text = props.value;
      setLastNativeText(props.value);
    }

    if (selection && lastNativeSelection && (lastNativeSelection.start !== selection.start || lastNativeSelection.end !== selection.end)) {
      nativeUpdate.selection = selection;
      setLastNativeSelection({
        selection: selection,
        mostRecentEventCount: mostRecentEventCount
      });
    }

    if (Object.keys(nativeUpdate).length === 0) {
      return;
    }

    if (inputRef.current != null) {
      var _selection$start, _selection, _selection$end, _selection2;

      viewCommands.setTextAndSelection(inputRef.current, mostRecentEventCount, text, (_selection$start = (_selection = selection) == null ? void 0 : _selection.start) != null ? _selection$start : -1, (_selection$end = (_selection2 = selection) == null ? void 0 : _selection2.end) != null ? _selection$end : -1);
    }
  }, [mostRecentEventCount, inputRef, props.value, props.defaultValue, lastNativeText, selection, lastNativeSelection, text, viewCommands]);
  useLayoutEffect(function () {
    var inputRefValue = inputRef.current;

    if (inputRefValue != null) {
      _TextInputState.default.registerInput(inputRefValue);

      return function () {
        _TextInputState.default.unregisterInput(inputRefValue);

        if (_TextInputState.default.currentlyFocusedInput() === inputRefValue) {
          (0, _nullthrows.default)(inputRefValue).blur();
        }
      };
    }
  }, [inputRef]);

  function clear() {
    if (inputRef.current != null) {
      viewCommands.setTextAndSelection(inputRef.current, mostRecentEventCount, '', 0, 0);
    }
  }

  function isFocused() {
    return _TextInputState.default.currentlyFocusedInput() === inputRef.current;
  }

  function getNativeRef() {
    return inputRef.current;
  }

  var _setNativeRef = (0, _setAndForwardRef.default)({
    getForwardedRef: function getForwardedRef() {
      return props.forwardedRef;
    },
    setLocalRef: function setLocalRef(ref) {
      inputRef.current = ref;

      if (ref) {
        ref.clear = clear;
        ref.isFocused = isFocused;
        ref.getNativeRef = getNativeRef;
      }
    }
  });

  var _onChange = function _onChange(event) {
    var text = event.nativeEvent.text;
    props.onChange && props.onChange(event);
    props.onChangeText && props.onChangeText(text);

    if (inputRef.current == null) {
      return;
    }

    setLastNativeText(text);
    setMostRecentEventCount(event.nativeEvent.eventCount);
  };

  var _onSelectionChange = function _onSelectionChange(event) {
    props.onSelectionChange && props.onSelectionChange(event);

    if (inputRef.current == null) {
      return;
    }

    setLastNativeSelection({
      selection: event.nativeEvent.selection,
      mostRecentEventCount: mostRecentEventCount
    });
  };

  var _onFocus = function _onFocus(event) {
    _TextInputState.default.focusInput(inputRef.current);

    if (props.onFocus) {
      props.onFocus(event);
    }
  };

  var _onBlur = function _onBlur(event) {
    _TextInputState.default.blurInput(inputRef.current);

    if (props.onBlur) {
      props.onBlur(event);
    }
  };

  var _onScroll = function _onScroll(event) {
    props.onScroll && props.onScroll(event);
  };

  var textInput = null;
  var blurOnSubmit = (_props$blurOnSubmit = props.blurOnSubmit) != null ? _props$blurOnSubmit : !props.multiline;
  var accessible = props.accessible !== false;
  var focusable = props.focusable !== false;
  var config = React.useMemo(function () {
    return {
      onPress: function onPress(event) {
        if (props.editable !== false) {
          if (inputRef.current != null) {
            inputRef.current.focus();
          }
        }
      },
      onPressIn: props.onPressIn,
      onPressOut: props.onPressOut,
      cancelable: _Platform.default.OS === 'ios' ? !props.rejectResponderTermination : null
    };
  }, [props.editable, props.onPressIn, props.onPressOut, props.rejectResponderTermination]);
  var caretHidden = props.caretHidden;

  if (_Platform.default.isTesting) {
    caretHidden = true;
  }

  var _ref = (0, _usePressability.default)(config) || {},
      onBlur = _ref.onBlur,
      onFocus = _ref.onFocus,
      eventHandlers = (0, _objectWithoutProperties2.default)(_ref, _excluded);

  if (_Platform.default.OS === 'ios') {
    var RCTTextInputView = props.multiline === true ? RCTMultilineTextInputView : RCTSinglelineTextInputView;
    var style = props.multiline === true ? [styles.multilineInput, props.style] : props.style;
    textInput = (0, _jsxRuntime.jsx)(RCTTextInputView, (0, _extends2.default)({
      ref: _setNativeRef
    }, props, eventHandlers, {
      accessible: accessible,
      blurOnSubmit: blurOnSubmit,
      caretHidden: caretHidden,
      dataDetectorTypes: props.dataDetectorTypes,
      focusable: focusable,
      mostRecentEventCount: mostRecentEventCount,
      onBlur: _onBlur,
      onChange: _onChange,
      onContentSizeChange: props.onContentSizeChange,
      onFocus: _onFocus,
      onScroll: _onScroll,
      onSelectionChange: _onSelectionChange,
      onSelectionChangeShouldSetResponder: emptyFunctionThatReturnsTrue,
      selection: selection,
      style: style,
      text: text
    }));
  } else if (_Platform.default.OS === 'android') {
    var _props$placeholder;

    var _style = [props.style];
    var autoCapitalize = props.autoCapitalize || 'sentences';
    var placeholder = (_props$placeholder = props.placeholder) != null ? _props$placeholder : '';
    var children = props.children;
    var childCount = React.Children.count(children);
    (0, _invariant.default)(!(props.value != null && childCount), 'Cannot specify both value and children.');

    if (childCount > 1) {
      children = (0, _jsxRuntime.jsx)(_Text.default, {
        children: children
      });
    }

    textInput = (0, _jsxRuntime.jsx)(AndroidTextInput, (0, _extends2.default)({
      ref: _setNativeRef
    }, props, eventHandlers, {
      accessible: accessible,
      autoCapitalize: autoCapitalize,
      blurOnSubmit: blurOnSubmit,
      caretHidden: caretHidden,
      children: children,
      disableFullscreenUI: props.disableFullscreenUI,
      focusable: focusable,
      mostRecentEventCount: mostRecentEventCount,
      onBlur: _onBlur,
      onChange: _onChange,
      onFocus: _onFocus,
      onScroll: _onScroll,
      onSelectionChange: _onSelectionChange,
      placeholder: placeholder,
      selection: selection,
      style: _style,
      text: text,
      textBreakStrategy: props.textBreakStrategy
    }));
  }

  return (0, _jsxRuntime.jsx)(_TextAncestor.default.Provider, {
    value: true,
    children: textInput
  });
}

var ExportedForwardRef = React.forwardRef(function TextInput(_ref2, forwardedRef) {
  var _ref2$allowFontScalin = _ref2.allowFontScaling,
      allowFontScaling = _ref2$allowFontScalin === void 0 ? true : _ref2$allowFontScalin,
      _ref2$rejectResponder = _ref2.rejectResponderTermination,
      rejectResponderTermination = _ref2$rejectResponder === void 0 ? true : _ref2$rejectResponder,
      _ref2$underlineColorA = _ref2.underlineColorAndroid,
      underlineColorAndroid = _ref2$underlineColorA === void 0 ? 'transparent' : _ref2$underlineColorA,
      restProps = (0, _objectWithoutProperties2.default)(_ref2, _excluded2);
  return (0, _jsxRuntime.jsx)(InternalTextInput, (0, _extends2.default)({
    allowFontScaling: allowFontScaling,
    rejectResponderTermination: rejectResponderTermination,
    underlineColorAndroid: underlineColorAndroid
  }, restProps, {
    forwardedRef: forwardedRef
  }));
});
ExportedForwardRef.propTypes = _DeprecatedTextInputPropTypes.default;
ExportedForwardRef.State = {
  currentlyFocusedInput: _TextInputState.default.currentlyFocusedInput,
  currentlyFocusedField: _TextInputState.default.currentlyFocusedField,
  focusTextInput: _TextInputState.default.focusTextInput,
  blurTextInput: _TextInputState.default.blurTextInput
};

var styles = _StyleSheet.default.create({
  multilineInput: {
    paddingTop: 5
  }
});

module.exports = ExportedForwardRef;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRleHRJbnB1dC5qcyJdLCJuYW1lcyI6WyJ1c2VMYXlvdXRFZmZlY3QiLCJSZWFjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiQW5kcm9pZFRleHRJbnB1dCIsIkFuZHJvaWRUZXh0SW5wdXRDb21tYW5kcyIsIlJDVFNpbmdsZWxpbmVUZXh0SW5wdXRWaWV3IiwiUkNUU2luZ2xlbGluZVRleHRJbnB1dE5hdGl2ZUNvbW1hbmRzIiwiUkNUTXVsdGlsaW5lVGV4dElucHV0VmlldyIsIlJDVE11bHRpbGluZVRleHRJbnB1dE5hdGl2ZUNvbW1hbmRzIiwiUGxhdGZvcm0iLCJPUyIsInJlcXVpcmUiLCJkZWZhdWx0IiwiQ29tbWFuZHMiLCJlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNUcnVlIiwiSW50ZXJuYWxUZXh0SW5wdXQiLCJwcm9wcyIsImlucHV0UmVmIiwic2VsZWN0aW9uIiwic3RhcnQiLCJlbmQiLCJtb3N0UmVjZW50RXZlbnRDb3VudCIsInNldE1vc3RSZWNlbnRFdmVudENvdW50IiwidmFsdWUiLCJsYXN0TmF0aXZlVGV4dCIsInNldExhc3ROYXRpdmVUZXh0IiwibGFzdE5hdGl2ZVNlbGVjdGlvblN0YXRlIiwic2V0TGFzdE5hdGl2ZVNlbGVjdGlvbiIsImxhc3ROYXRpdmVTZWxlY3Rpb24iLCJsYXN0TmF0aXZlU2VsZWN0aW9uRXZlbnRDb3VudCIsInZpZXdDb21tYW5kcyIsIm11bHRpbGluZSIsInRleHQiLCJkZWZhdWx0VmFsdWUiLCJuYXRpdmVVcGRhdGUiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiY3VycmVudCIsInNldFRleHRBbmRTZWxlY3Rpb24iLCJpbnB1dFJlZlZhbHVlIiwiVGV4dElucHV0U3RhdGUiLCJyZWdpc3RlcklucHV0IiwidW5yZWdpc3RlcklucHV0IiwiY3VycmVudGx5Rm9jdXNlZElucHV0IiwiYmx1ciIsImNsZWFyIiwiaXNGb2N1c2VkIiwiZ2V0TmF0aXZlUmVmIiwiX3NldE5hdGl2ZVJlZiIsImdldEZvcndhcmRlZFJlZiIsImZvcndhcmRlZFJlZiIsInNldExvY2FsUmVmIiwicmVmIiwiX29uQ2hhbmdlIiwiZXZlbnQiLCJuYXRpdmVFdmVudCIsIm9uQ2hhbmdlIiwib25DaGFuZ2VUZXh0IiwiZXZlbnRDb3VudCIsIl9vblNlbGVjdGlvbkNoYW5nZSIsIm9uU2VsZWN0aW9uQ2hhbmdlIiwiX29uRm9jdXMiLCJmb2N1c0lucHV0Iiwib25Gb2N1cyIsIl9vbkJsdXIiLCJibHVySW5wdXQiLCJvbkJsdXIiLCJfb25TY3JvbGwiLCJvblNjcm9sbCIsInRleHRJbnB1dCIsImJsdXJPblN1Ym1pdCIsImFjY2Vzc2libGUiLCJmb2N1c2FibGUiLCJjb25maWciLCJ1c2VNZW1vIiwib25QcmVzcyIsImVkaXRhYmxlIiwiZm9jdXMiLCJvblByZXNzSW4iLCJvblByZXNzT3V0IiwiY2FuY2VsYWJsZSIsInJlamVjdFJlc3BvbmRlclRlcm1pbmF0aW9uIiwiY2FyZXRIaWRkZW4iLCJpc1Rlc3RpbmciLCJldmVudEhhbmRsZXJzIiwiUkNUVGV4dElucHV0VmlldyIsInN0eWxlIiwic3R5bGVzIiwibXVsdGlsaW5lSW5wdXQiLCJkYXRhRGV0ZWN0b3JUeXBlcyIsIm9uQ29udGVudFNpemVDaGFuZ2UiLCJhdXRvQ2FwaXRhbGl6ZSIsInBsYWNlaG9sZGVyIiwiY2hpbGRyZW4iLCJjaGlsZENvdW50IiwiQ2hpbGRyZW4iLCJjb3VudCIsImRpc2FibGVGdWxsc2NyZWVuVUkiLCJ0ZXh0QnJlYWtTdHJhdGVneSIsIkV4cG9ydGVkRm9yd2FyZFJlZiIsImZvcndhcmRSZWYiLCJUZXh0SW5wdXQiLCJhbGxvd0ZvbnRTY2FsaW5nIiwidW5kZXJsaW5lQ29sb3JBbmRyb2lkIiwicmVzdFByb3BzIiwicHJvcFR5cGVzIiwiRGVwcmVjYXRlZFRleHRJbnB1dFByb3BUeXBlcyIsIlN0YXRlIiwiY3VycmVudGx5Rm9jdXNlZEZpZWxkIiwiZm9jdXNUZXh0SW5wdXQiLCJibHVyVGV4dElucHV0IiwiU3R5bGVTaGVldCIsImNyZWF0ZSIsInBhZGRp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aWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93IHN0cmljdC1sb2NhbFxuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IERlcHJlY2F0ZWRUZXh0SW5wdXRQcm9wVHlwZXMgZnJvbSAnLi4vLi4vRGVwcmVjYXRlZFByb3BUeXBlcy9EZXByZWNhdGVkVGV4dElucHV0UHJvcFR5cGVzJztcblxuaW1wb3J0IFBsYXRmb3JtIGZyb20gJy4uLy4uL1V0aWxpdGllcy9QbGF0Zm9ybSc7XG5pbXBvcnQgU3R5bGVTaGVldCwge1xuICB0eXBlIFRleHRTdHlsZVByb3AsXG4gIHR5cGUgVmlld1N0eWxlUHJvcCxcbiAgdHlwZSBDb2xvclZhbHVlLFxufSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IFRleHQgZnJvbSAnLi4vLi4vVGV4dC9UZXh0JztcbmltcG9ydCBUZXh0QW5jZXN0b3IgZnJvbSAnLi4vLi4vVGV4dC9UZXh0QW5jZXN0b3InO1xuaW1wb3J0IFRleHRJbnB1dFN0YXRlIGZyb20gJy4vVGV4dElucHV0U3RhdGUnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IG51bGx0aHJvd3MgZnJvbSAnbnVsbHRocm93cyc7XG5pbXBvcnQgc2V0QW5kRm9yd2FyZFJlZiBmcm9tICcuLi8uLi9VdGlsaXRpZXMvc2V0QW5kRm9yd2FyZFJlZic7XG5cbmltcG9ydCB1c2VQcmVzc2FiaWxpdHkgZnJvbSAnLi4vLi4vUHJlc3NhYmlsaXR5L3VzZVByZXNzYWJpbGl0eSc7XG5cbmltcG9ydCB0eXBlIHtWaWV3UHJvcHN9IGZyb20gJy4uL1ZpZXcvVmlld1Byb3BUeXBlcyc7XG5pbXBvcnQgdHlwZSB7XG4gIFN5bnRoZXRpY0V2ZW50LFxuICBTY3JvbGxFdmVudCxcbiAgUHJlc3NFdmVudCxcbn0gZnJvbSAnLi4vLi4vVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuaW1wb3J0IHR5cGUge0hvc3RDb21wb25lbnR9IGZyb20gJy4uLy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlVHlwZXMnO1xuaW1wb3J0IHR5cGUge1RleHRJbnB1dE5hdGl2ZUNvbW1hbmRzfSBmcm9tICcuL1RleHRJbnB1dE5hdGl2ZUNvbW1hbmRzJztcblxuY29uc3Qge3VzZUxheW91dEVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZX0gPSBSZWFjdDtcblxudHlwZSBSZWFjdFJlZlNldHRlcjxUPiA9IHtjdXJyZW50OiBudWxsIHwgVCwgLi4ufSB8ICgocmVmOiBudWxsIHwgVCkgPT4gbWl4ZWQpO1xuXG5sZXQgQW5kcm9pZFRleHRJbnB1dDtcbmxldCBBbmRyb2lkVGV4dElucHV0Q29tbWFuZHM7XG5sZXQgUkNUU2luZ2xlbGluZVRleHRJbnB1dFZpZXc7XG5sZXQgUkNUU2luZ2xlbGluZVRleHRJbnB1dE5hdGl2ZUNvbW1hbmRzO1xubGV0IFJDVE11bHRpbGluZVRleHRJbnB1dFZpZXc7XG5sZXQgUkNUTXVsdGlsaW5lVGV4dElucHV0TmF0aXZlQ29tbWFuZHM7XG5cbmlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gIEFuZHJvaWRUZXh0SW5wdXQgPSByZXF1aXJlKCcuL0FuZHJvaWRUZXh0SW5wdXROYXRpdmVDb21wb25lbnQnKS5kZWZhdWx0O1xuICBBbmRyb2lkVGV4dElucHV0Q29tbWFuZHMgPSByZXF1aXJlKCcuL0FuZHJvaWRUZXh0SW5wdXROYXRpdmVDb21wb25lbnQnKVxuICAgIC5Db21tYW5kcztcbn0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gIFJDVFNpbmdsZWxpbmVUZXh0SW5wdXRWaWV3ID0gcmVxdWlyZSgnLi9SQ1RTaW5nZWxpbmVUZXh0SW5wdXROYXRpdmVDb21wb25lbnQnKVxuICAgIC5kZWZhdWx0O1xuICBSQ1RTaW5nbGVsaW5lVGV4dElucHV0TmF0aXZlQ29tbWFuZHMgPSByZXF1aXJlKCcuL1JDVFNpbmdlbGluZVRleHRJbnB1dE5hdGl2ZUNvbXBvbmVudCcpXG4gICAgLkNvbW1hbmRzO1xuICBSQ1RNdWx0aWxpbmVUZXh0SW5wdXRWaWV3ID0gcmVxdWlyZSgnLi9SQ1RNdWx0aWxpbmVUZXh0SW5wdXROYXRpdmVDb21wb25lbnQnKVxuICAgIC5kZWZhdWx0O1xuICBSQ1RNdWx0aWxpbmVUZXh0SW5wdXROYXRpdmVDb21tYW5kcyA9IHJlcXVpcmUoJy4vUkNUTXVsdGlsaW5lVGV4dElucHV0TmF0aXZlQ29tcG9uZW50JylcbiAgICAuQ29tbWFuZHM7XG59XG5cbmV4cG9ydCB0eXBlIENoYW5nZUV2ZW50ID0gU3ludGhldGljRXZlbnQ8XG4gICRSZWFkT25seTx7fFxuICAgIGV2ZW50Q291bnQ6IG51bWJlcixcbiAgICB0YXJnZXQ6IG51bWJlcixcbiAgICB0ZXh0OiBzdHJpbmcsXG4gIHx9Pixcbj47XG5cbmV4cG9ydCB0eXBlIFRleHRJbnB1dEV2ZW50ID0gU3ludGhldGljRXZlbnQ8XG4gICRSZWFkT25seTx7fFxuICAgIGV2ZW50Q291bnQ6IG51bWJlcixcbiAgICBwcmV2aW91c1RleHQ6IHN0cmluZyxcbiAgICByYW5nZTogJFJlYWRPbmx5PHt8XG4gICAgICBzdGFydDogbnVtYmVyLFxuICAgICAgZW5kOiBudW1iZXIsXG4gICAgfH0+LFxuICAgIHRhcmdldDogbnVtYmVyLFxuICAgIHRleHQ6IHN0cmluZyxcbiAgfH0+LFxuPjtcblxuZXhwb3J0IHR5cGUgQ29udGVudFNpemVDaGFuZ2VFdmVudCA9IFN5bnRoZXRpY0V2ZW50PFxuICAkUmVhZE9ubHk8e3xcbiAgICB0YXJnZXQ6IG51bWJlcixcbiAgICBjb250ZW50U2l6ZTogJFJlYWRPbmx5PHt8XG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgfH0+LFxuICB8fT4sXG4+O1xuXG50eXBlIFRhcmdldEV2ZW50ID0gU3ludGhldGljRXZlbnQ8XG4gICRSZWFkT25seTx7fFxuICAgIHRhcmdldDogbnVtYmVyLFxuICB8fT4sXG4+O1xuXG5leHBvcnQgdHlwZSBCbHVyRXZlbnQgPSBUYXJnZXRFdmVudDtcbmV4cG9ydCB0eXBlIEZvY3VzRXZlbnQgPSBUYXJnZXRFdmVudDtcblxudHlwZSBTZWxlY3Rpb24gPSAkUmVhZE9ubHk8e3xcbiAgc3RhcnQ6IG51bWJlcixcbiAgZW5kOiBudW1iZXIsXG58fT47XG5cbmV4cG9ydCB0eXBlIFNlbGVjdGlvbkNoYW5nZUV2ZW50ID0gU3ludGhldGljRXZlbnQ8XG4gICRSZWFkT25seTx7fFxuICAgIHNlbGVjdGlvbjogU2VsZWN0aW9uLFxuICAgIHRhcmdldDogbnVtYmVyLFxuICB8fT4sXG4+O1xuXG5leHBvcnQgdHlwZSBLZXlQcmVzc0V2ZW50ID0gU3ludGhldGljRXZlbnQ8XG4gICRSZWFkT25seTx7fFxuICAgIGtleTogc3RyaW5nLFxuICAgIHRhcmdldD86ID9udW1iZXIsXG4gICAgZXZlbnRDb3VudD86ID9udW1iZXIsXG4gIHx9Pixcbj47XG5cbmV4cG9ydCB0eXBlIEVkaXRpbmdFdmVudCA9IFN5bnRoZXRpY0V2ZW50PFxuICAkUmVhZE9ubHk8e3xcbiAgICBldmVudENvdW50OiBudW1iZXIsXG4gICAgdGV4dDogc3RyaW5nLFxuICAgIHRhcmdldDogbnVtYmVyLFxuICB8fT4sXG4+O1xuXG50eXBlIERhdGFEZXRlY3RvclR5cGVzVHlwZSA9XG4gIHwgJ3Bob25lTnVtYmVyJ1xuICB8ICdsaW5rJ1xuICB8ICdhZGRyZXNzJ1xuICB8ICdjYWxlbmRhckV2ZW50J1xuICB8ICdub25lJ1xuICB8ICdhbGwnO1xuXG5leHBvcnQgdHlwZSBLZXlib2FyZFR5cGUgPVxuICAvLyBDcm9zcyBQbGF0Zm9ybVxuICB8ICdkZWZhdWx0J1xuICB8ICdlbWFpbC1hZGRyZXNzJ1xuICB8ICdudW1lcmljJ1xuICB8ICdwaG9uZS1wYWQnXG4gIHwgJ251bWJlci1wYWQnXG4gIHwgJ2RlY2ltYWwtcGFkJ1xuICB8ICd1cmwnXG4gIC8vIGlPUy1vbmx5XG4gIHwgJ2FzY2lpLWNhcGFibGUnXG4gIHwgJ251bWJlcnMtYW5kLXB1bmN0dWF0aW9uJ1xuICB8ICduYW1lLXBob25lLXBhZCdcbiAgfCAndHdpdHRlcidcbiAgfCAnd2ViLXNlYXJjaCdcbiAgLy8gaU9TIDEwKyBvbmx5XG4gIHwgJ2FzY2lpLWNhcGFibGUtbnVtYmVyLXBhZCdcbiAgLy8gQW5kcm9pZC1vbmx5XG4gIHwgJ3Zpc2libGUtcGFzc3dvcmQnO1xuXG5leHBvcnQgdHlwZSBSZXR1cm5LZXlUeXBlID1cbiAgLy8gQ3Jvc3MgUGxhdGZvcm1cbiAgfCAnZG9uZSdcbiAgfCAnZ28nXG4gIHwgJ25leHQnXG4gIHwgJ3NlYXJjaCdcbiAgfCAnc2VuZCdcbiAgLy8gQW5kcm9pZC1vbmx5XG4gIHwgJ25vbmUnXG4gIHwgJ3ByZXZpb3VzJ1xuICAvLyBpT1Mtb25seVxuICB8ICdkZWZhdWx0J1xuICB8ICdlbWVyZ2VuY3ktY2FsbCdcbiAgfCAnZ29vZ2xlJ1xuICB8ICdqb2luJ1xuICB8ICdyb3V0ZSdcbiAgfCAneWFob28nO1xuXG5leHBvcnQgdHlwZSBBdXRvQ2FwaXRhbGl6ZSA9ICdub25lJyB8ICdzZW50ZW5jZXMnIHwgJ3dvcmRzJyB8ICdjaGFyYWN0ZXJzJztcblxuZXhwb3J0IHR5cGUgVGV4dENvbnRlbnRUeXBlID1cbiAgfCAnbm9uZSdcbiAgfCAnVVJMJ1xuICB8ICdhZGRyZXNzQ2l0eSdcbiAgfCAnYWRkcmVzc0NpdHlBbmRTdGF0ZSdcbiAgfCAnYWRkcmVzc1N0YXRlJ1xuICB8ICdjb3VudHJ5TmFtZSdcbiAgfCAnY3JlZGl0Q2FyZE51bWJlcidcbiAgfCAnZW1haWxBZGRyZXNzJ1xuICB8ICdmYW1pbHlOYW1lJ1xuICB8ICdmdWxsU3RyZWV0QWRkcmVzcydcbiAgfCAnZ2l2ZW5OYW1lJ1xuICB8ICdqb2JUaXRsZSdcbiAgfCAnbG9jYXRpb24nXG4gIHwgJ21pZGRsZU5hbWUnXG4gIHwgJ25hbWUnXG4gIHwgJ25hbWVQcmVmaXgnXG4gIHwgJ25hbWVTdWZmaXgnXG4gIHwgJ25pY2tuYW1lJ1xuICB8ICdvcmdhbml6YXRpb25OYW1lJ1xuICB8ICdwb3N0YWxDb2RlJ1xuICB8ICdzdHJlZXRBZGRyZXNzTGluZTEnXG4gIHwgJ3N0cmVldEFkZHJlc3NMaW5lMidcbiAgfCAnc3VibG9jYWxpdHknXG4gIHwgJ3RlbGVwaG9uZU51bWJlcidcbiAgfCAndXNlcm5hbWUnXG4gIHwgJ3Bhc3N3b3JkJ1xuICB8ICduZXdQYXNzd29yZCdcbiAgfCAnb25lVGltZUNvZGUnO1xuXG50eXBlIFBhc3N3b3JkUnVsZXMgPSBzdHJpbmc7XG5cbnR5cGUgSU9TUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIFdoZW4gdGhlIGNsZWFyIGJ1dHRvbiBzaG91bGQgYXBwZWFyIG9uIHRoZSByaWdodCBzaWRlIG9mIHRoZSB0ZXh0IHZpZXcuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgc3VwcG9ydGVkIG9ubHkgZm9yIHNpbmdsZS1saW5lIFRleHRJbnB1dCBjb21wb25lbnQuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNsZWFyQnV0dG9uTW9kZT86ID8oJ25ldmVyJyB8ICd3aGlsZS1lZGl0aW5nJyB8ICd1bmxlc3MtZWRpdGluZycgfCAnYWx3YXlzJyksXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgY2xlYXJzIHRoZSB0ZXh0IGZpZWxkIGF1dG9tYXRpY2FsbHkgd2hlbiBlZGl0aW5nIGJlZ2lucy5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY2xlYXJUZXh0T25Gb2N1cz86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSB0eXBlcyBvZiBkYXRhIGNvbnZlcnRlZCB0byBjbGlja2FibGUgVVJMcyBpbiB0aGUgdGV4dCBpbnB1dC5cbiAgICogT25seSB2YWxpZCBpZiBgbXVsdGlsaW5lPXt0cnVlfWAgYW5kIGBlZGl0YWJsZT17ZmFsc2V9YC5cbiAgICogQnkgZGVmYXVsdCBubyBkYXRhIHR5cGVzIGFyZSBkZXRlY3RlZC5cbiAgICpcbiAgICogWW91IGNhbiBwcm92aWRlIG9uZSB0eXBlIG9yIGFuIGFycmF5IG9mIG1hbnkgdHlwZXMuXG4gICAqXG4gICAqIFBvc3NpYmxlIHZhbHVlcyBmb3IgYGRhdGFEZXRlY3RvclR5cGVzYCBhcmU6XG4gICAqXG4gICAqIC0gYCdwaG9uZU51bWJlcidgXG4gICAqIC0gYCdsaW5rJ2BcbiAgICogLSBgJ2FkZHJlc3MnYFxuICAgKiAtIGAnY2FsZW5kYXJFdmVudCdgXG4gICAqIC0gYCdub25lJ2BcbiAgICogLSBgJ2FsbCdgXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGRhdGFEZXRlY3RvclR5cGVzPzpcbiAgICB8ID9EYXRhRGV0ZWN0b3JUeXBlc1R5cGVcbiAgICB8ICRSZWFkT25seUFycmF5PERhdGFEZXRlY3RvclR5cGVzVHlwZT4sXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGtleWJvYXJkIGRpc2FibGVzIHRoZSByZXR1cm4ga2V5IHdoZW4gdGhlcmUgaXMgbm8gdGV4dCBhbmRcbiAgICogYXV0b21hdGljYWxseSBlbmFibGVzIGl0IHdoZW4gdGhlcmUgaXMgdGV4dC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYGZhbHNlYC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZW5hYmxlc1JldHVybktleUF1dG9tYXRpY2FsbHk/OiA/Ym9vbGVhbixcblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgaWRlbnRpZmllciB3aGljaCBsaW5rcyBhIGN1c3RvbSBJbnB1dEFjY2Vzc29yeVZpZXcgdG9cbiAgICogdGhpcyB0ZXh0IGlucHV0LiBUaGUgSW5wdXRBY2Nlc3NvcnlWaWV3IGlzIHJlbmRlcmVkIGFib3ZlIHRoZVxuICAgKiBrZXlib2FyZCB3aGVuIHRoaXMgdGV4dCBpbnB1dCBpcyBmb2N1c2VkLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBpbnB1dEFjY2Vzc29yeVZpZXdJRD86ID9zdHJpbmcsXG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIGNvbG9yIG9mIHRoZSBrZXlib2FyZC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAga2V5Ym9hcmRBcHBlYXJhbmNlPzogPygnZGVmYXVsdCcgfCAnbGlnaHQnIHwgJ2RhcmsnKSxcblxuICAvKipcbiAgICogUHJvdmlkZSBydWxlcyBmb3IgeW91ciBwYXNzd29yZC5cbiAgICogRm9yIGV4YW1wbGUsIHNheSB5b3Ugd2FudCB0byByZXF1aXJlIGEgcGFzc3dvcmQgd2l0aCBhdCBsZWFzdCBlaWdodCBjaGFyYWN0ZXJzIGNvbnNpc3Rpbmcgb2YgYSBtaXggb2YgdXBwZXJjYXNlIGFuZCBsb3dlcmNhc2UgbGV0dGVycywgYXQgbGVhc3Qgb25lIG51bWJlciwgYW5kIGF0IG1vc3QgdHdvIGNvbnNlY3V0aXZlIGNoYXJhY3RlcnMuXG4gICAqIFwicmVxdWlyZWQ6IHVwcGVyOyByZXF1aXJlZDogbG93ZXI7IHJlcXVpcmVkOiBkaWdpdDsgbWF4LWNvbnNlY3V0aXZlOiAyOyBtaW5sZW5ndGg6IDg7XCJcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgcGFzc3dvcmRSdWxlcz86ID9QYXNzd29yZFJ1bGVzLFxuXG4gIC8qXG4gICAqIElmIGB0cnVlYCwgYWxsb3dzIFRleHRJbnB1dCB0byBwYXNzIHRvdWNoIGV2ZW50cyB0byB0aGUgcGFyZW50IGNvbXBvbmVudC5cbiAgICogVGhpcyBhbGxvd3MgY29tcG9uZW50cyB0byBiZSBzd2lwZWFibGUgZnJvbSB0aGUgVGV4dElucHV0IG9uIGlPUyxcbiAgICogYXMgaXMgdGhlIGNhc2Ugb24gQW5kcm9pZCBieSBkZWZhdWx0LlxuICAgKiBJZiBgZmFsc2VgLCBUZXh0SW5wdXQgYWx3YXlzIGFza3MgdG8gaGFuZGxlIHRoZSBpbnB1dCAoZXhjZXB0IHdoZW4gZGlzYWJsZWQpLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICByZWplY3RSZXNwb25kZXJUZXJtaW5hdGlvbj86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBJZiBgZmFsc2VgLCBzY3JvbGxpbmcgb2YgdGhlIHRleHQgdmlldyB3aWxsIGJlIGRpc2FibGVkLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgdHJ1ZWAuIERvZXMgb25seSB3b3JrIHdpdGggJ211bHRpbGluZT17dHJ1ZX0nLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIElmIGBmYWxzZWAsIGRpc2FibGVzIHNwZWxsLWNoZWNrIHN0eWxlIChpLmUuIHJlZCB1bmRlcmxpbmVzKS5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgaW5oZXJpdGVkIGZyb20gYGF1dG9Db3JyZWN0YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc3BlbGxDaGVjaz86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBHaXZlIHRoZSBrZXlib2FyZCBhbmQgdGhlIHN5c3RlbSBpbmZvcm1hdGlvbiBhYm91dCB0aGVcbiAgICogZXhwZWN0ZWQgc2VtYW50aWMgbWVhbmluZyBmb3IgdGhlIGNvbnRlbnQgdGhhdCB1c2VycyBlbnRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgdGV4dENvbnRlbnRUeXBlPzogP1RleHRDb250ZW50VHlwZSxcbnx9PjtcblxudHlwZSBBbmRyb2lkUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hpY2ggY29udGVudCB0byBzdWdnZXN0IG9uIGF1dG8gY29tcGxldGUsIGUuZy5gdXNlcm5hbWVgLlxuICAgKiBUbyBkaXNhYmxlIGF1dG8gY29tcGxldGUsIHVzZSBgb2ZmYC5cbiAgICpcbiAgICogKkFuZHJvaWQgT25seSpcbiAgICpcbiAgICogVGhlIGZvbGxvd2luZyB2YWx1ZXMgd29yayBvbiBBbmRyb2lkIG9ubHk6XG4gICAqXG4gICAqIC0gYHVzZXJuYW1lYFxuICAgKiAtIGBwYXNzd29yZGBcbiAgICogLSBgZW1haWxgXG4gICAqIC0gYG5hbWVgXG4gICAqIC0gYHRlbGBcbiAgICogLSBgc3RyZWV0LWFkZHJlc3NgXG4gICAqIC0gYHBvc3RhbC1jb2RlYFxuICAgKiAtIGBjYy1udW1iZXJgXG4gICAqIC0gYGNjLWNzY2BcbiAgICogLSBgY2MtZXhwYFxuICAgKiAtIGBjYy1leHAtbW9udGhgXG4gICAqIC0gYGNjLWV4cC15ZWFyYFxuICAgKiAtIGBvZmZgXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBhdXRvQ29tcGxldGU/OiA/KFxuICAgIHwgJ2JpcnRoZGF0ZS1kYXknXG4gICAgfCAnYmlydGhkYXRlLWZ1bGwnXG4gICAgfCAnYmlydGhkYXRlLW1vbnRoJ1xuICAgIHwgJ2JpcnRoZGF0ZS15ZWFyJ1xuICAgIHwgJ2NjLWNzYydcbiAgICB8ICdjYy1leHAnXG4gICAgfCAnY2MtZXhwLWRheSdcbiAgICB8ICdjYy1leHAtbW9udGgnXG4gICAgfCAnY2MtZXhwLXllYXInXG4gICAgfCAnY2MtbnVtYmVyJ1xuICAgIHwgJ2VtYWlsJ1xuICAgIHwgJ2dlbmRlcidcbiAgICB8ICduYW1lJ1xuICAgIHwgJ25hbWUtZmFtaWx5J1xuICAgIHwgJ25hbWUtZ2l2ZW4nXG4gICAgfCAnbmFtZS1taWRkbGUnXG4gICAgfCAnbmFtZS1taWRkbGUtaW5pdGlhbCdcbiAgICB8ICduYW1lLXByZWZpeCdcbiAgICB8ICduYW1lLXN1ZmZpeCdcbiAgICB8ICdwYXNzd29yZCdcbiAgICB8ICdwYXNzd29yZC1uZXcnXG4gICAgfCAncG9zdGFsLWFkZHJlc3MnXG4gICAgfCAncG9zdGFsLWFkZHJlc3MtY291bnRyeSdcbiAgICB8ICdwb3N0YWwtYWRkcmVzcy1leHRlbmRlZCdcbiAgICB8ICdwb3N0YWwtYWRkcmVzcy1leHRlbmRlZC1wb3N0YWwtY29kZSdcbiAgICB8ICdwb3N0YWwtYWRkcmVzcy1sb2NhbGl0eSdcbiAgICB8ICdwb3N0YWwtYWRkcmVzcy1yZWdpb24nXG4gICAgfCAncG9zdGFsLWNvZGUnXG4gICAgfCAnc3RyZWV0LWFkZHJlc3MnXG4gICAgfCAnc21zLW90cCdcbiAgICB8ICd0ZWwnXG4gICAgfCAndGVsLWNvdW50cnktY29kZSdcbiAgICB8ICd0ZWwtbmF0aW9uYWwnXG4gICAgfCAndGVsLWRldmljZSdcbiAgICB8ICd1c2VybmFtZSdcbiAgICB8ICd1c2VybmFtZS1uZXcnXG4gICAgfCAnb2ZmJ1xuICApLFxuXG4gIC8qKlxuICAgKiBXaGVuIGBmYWxzZWAsIGlmIHRoZXJlIGlzIGEgc21hbGwgYW1vdW50IG9mIHNwYWNlIGF2YWlsYWJsZSBhcm91bmQgYSB0ZXh0IGlucHV0XG4gICAqIChlLmcuIGxhbmRzY2FwZSBvcmllbnRhdGlvbiBvbiBhIHBob25lKSwgdGhlIE9TIG1heSBjaG9vc2UgdG8gaGF2ZSB0aGUgdXNlciBlZGl0XG4gICAqIHRoZSB0ZXh0IGluc2lkZSBvZiBhIGZ1bGwgc2NyZWVuIHRleHQgaW5wdXQgbW9kZS4gV2hlbiBgdHJ1ZWAsIHRoaXMgZmVhdHVyZSBpc1xuICAgKiBkaXNhYmxlZCBhbmQgdXNlcnMgd2lsbCBhbHdheXMgZWRpdCB0aGUgdGV4dCBkaXJlY3RseSBpbnNpZGUgb2YgdGhlIHRleHQgaW5wdXQuXG4gICAqIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBkaXNhYmxlRnVsbHNjcmVlblVJPzogP2Jvb2xlYW4sXG5cbiAgaW1wb3J0YW50Rm9yQXV0b2ZpbGw/OiA/KFxuICAgIHwgJ2F1dG8nXG4gICAgfCAnbm8nXG4gICAgfCAnbm9FeGNsdWRlRGVzY2VuZGFudHMnXG4gICAgfCAneWVzJ1xuICAgIHwgJ3llc0V4Y2x1ZGVEZXNjZW5kYW50cydcbiAgKSxcblxuICAvKipcbiAgICogSWYgZGVmaW5lZCwgdGhlIHByb3ZpZGVkIGltYWdlIHJlc291cmNlIHdpbGwgYmUgcmVuZGVyZWQgb24gdGhlIGxlZnQuXG4gICAqIFRoZSBpbWFnZSByZXNvdXJjZSBtdXN0IGJlIGluc2lkZSBgL2FuZHJvaWQvYXBwL3NyYy9tYWluL3Jlcy9kcmF3YWJsZWAgYW5kIHJlZmVyZW5jZWRcbiAgICogbGlrZVxuICAgKiBgYGBcbiAgICogPFRleHRJbnB1dFxuICAgKiAgaW5saW5lSW1hZ2VMZWZ0PSdzZWFyY2hfaWNvbidcbiAgICogLz5cbiAgICogYGBgXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBpbmxpbmVJbWFnZUxlZnQ/OiA/c3RyaW5nLFxuXG4gIC8qKlxuICAgKiBQYWRkaW5nIGJldHdlZW4gdGhlIGlubGluZSBpbWFnZSwgaWYgYW55LCBhbmQgdGhlIHRleHQgaW5wdXQgaXRzZWxmLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgaW5saW5lSW1hZ2VQYWRkaW5nPzogP251bWJlcixcblxuICAvKipcbiAgICogU2V0cyB0aGUgbnVtYmVyIG9mIGxpbmVzIGZvciBhIGBUZXh0SW5wdXRgLiBVc2UgaXQgd2l0aCBtdWx0aWxpbmUgc2V0IHRvXG4gICAqIGB0cnVlYCB0byBiZSBhYmxlIHRvIGZpbGwgdGhlIGxpbmVzLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgbnVtYmVyT2ZMaW5lcz86ID9udW1iZXIsXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHJldHVybiBrZXkgdG8gdGhlIGxhYmVsLiBVc2UgaXQgaW5zdGVhZCBvZiBgcmV0dXJuS2V5VHlwZWAuXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICByZXR1cm5LZXlMYWJlbD86ID9zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFdoZW4gYGZhbHNlYCwgaXQgd2lsbCBwcmV2ZW50IHRoZSBzb2Z0IGtleWJvYXJkIGZyb20gc2hvd2luZyB3aGVuIHRoZSBmaWVsZCBpcyBmb2N1c2VkLlxuICAgKiBEZWZhdWx0cyB0byBgdHJ1ZWAuXG4gICAqL1xuICBzaG93U29mdElucHV0T25Gb2N1cz86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBTZXQgdGV4dCBicmVhayBzdHJhdGVneSBvbiBBbmRyb2lkIEFQSSBMZXZlbCAyMyssIHBvc3NpYmxlIHZhbHVlcyBhcmUgYHNpbXBsZWAsIGBoaWdoUXVhbGl0eWAsIGBiYWxhbmNlZGBcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHNpbXBsZWAuXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICB0ZXh0QnJlYWtTdHJhdGVneT86ID8oJ3NpbXBsZScgfCAnaGlnaFF1YWxpdHknIHwgJ2JhbGFuY2VkJyksXG5cbiAgLyoqXG4gICAqIFRoZSBjb2xvciBvZiB0aGUgYFRleHRJbnB1dGAgdW5kZXJsaW5lLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgdW5kZXJsaW5lQ29sb3JBbmRyb2lkPzogP0NvbG9yVmFsdWUsXG58fT47XG5cbmV4cG9ydCB0eXBlIFByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC4uLiREaWZmPFZpZXdQcm9wcywgJFJlYWRPbmx5PHt8c3R5bGU6ID9WaWV3U3R5bGVQcm9wfH0+PixcbiAgLi4uSU9TUHJvcHMsXG4gIC4uLkFuZHJvaWRQcm9wcyxcblxuICAvKipcbiAgICogQ2FuIHRlbGwgYFRleHRJbnB1dGAgdG8gYXV0b21hdGljYWxseSBjYXBpdGFsaXplIGNlcnRhaW4gY2hhcmFjdGVycy5cbiAgICpcbiAgICogLSBgY2hhcmFjdGVyc2A6IGFsbCBjaGFyYWN0ZXJzLlxuICAgKiAtIGB3b3Jkc2A6IGZpcnN0IGxldHRlciBvZiBlYWNoIHdvcmQuXG4gICAqIC0gYHNlbnRlbmNlc2A6IGZpcnN0IGxldHRlciBvZiBlYWNoIHNlbnRlbmNlICgqZGVmYXVsdCopLlxuICAgKiAtIGBub25lYDogZG9uJ3QgYXV0byBjYXBpdGFsaXplIGFueXRoaW5nLlxuICAgKi9cbiAgYXV0b0NhcGl0YWxpemU/OiA/QXV0b0NhcGl0YWxpemUsXG5cbiAgLyoqXG4gICAqIElmIGBmYWxzZWAsIGRpc2FibGVzIGF1dG8tY29ycmVjdC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHRydWVgLlxuICAgKi9cbiAgYXV0b0NvcnJlY3Q/OiA/Ym9vbGVhbixcblxuICAvKipcbiAgICogSWYgYHRydWVgLCBmb2N1c2VzIHRoZSBpbnB1dCBvbiBgY29tcG9uZW50RGlkTW91bnRgLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgZmFsc2VgLlxuICAgKi9cbiAgYXV0b0ZvY3VzPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB3aGV0aGVyIGZvbnRzIHNob3VsZCBzY2FsZSB0byByZXNwZWN0IFRleHQgU2l6ZSBhY2Nlc3NpYmlsaXR5IHNldHRpbmdzLiBUaGVcbiAgICogZGVmYXVsdCBpcyBgdHJ1ZWAuXG4gICAqL1xuICBhbGxvd0ZvbnRTY2FsaW5nPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIHRleHQgZmllbGQgd2lsbCBibHVyIHdoZW4gc3VibWl0dGVkLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlIGZvciBzaW5nbGUtbGluZSBmaWVsZHMgYW5kIGZhbHNlIGZvclxuICAgKiBtdWx0aWxpbmUgZmllbGRzLiBOb3RlIHRoYXQgZm9yIG11bHRpbGluZSBmaWVsZHMsIHNldHRpbmcgYGJsdXJPblN1Ym1pdGBcbiAgICogdG8gYHRydWVgIG1lYW5zIHRoYXQgcHJlc3NpbmcgcmV0dXJuIHdpbGwgYmx1ciB0aGUgZmllbGQgYW5kIHRyaWdnZXIgdGhlXG4gICAqIGBvblN1Ym1pdEVkaXRpbmdgIGV2ZW50IGluc3RlYWQgb2YgaW5zZXJ0aW5nIGEgbmV3bGluZSBpbnRvIHRoZSBmaWVsZC5cbiAgICovXG4gIGJsdXJPblN1Ym1pdD86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIGNhcmV0IGlzIGhpZGRlbi4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYGZhbHNlYC5cbiAgICpcbiAgICogT24gQW5kcm9pZCBkZXZpY2VzIG1hbnVmYWN0dXJlZCBieSBYaWFvbWkgd2l0aCBBbmRyb2lkIFEsXG4gICAqIHdoZW4ga2V5Ym9hcmRUeXBlIGVxdWFscyAnZW1haWwtYWRkcmVzcyd0aGlzIHdpbGwgYmUgc2V0XG4gICAqIGluIG5hdGl2ZSB0byAndHJ1ZScgdG8gcHJldmVudCBhIHN5c3RlbSByZWxhdGVkIGNyYXNoLiBUaGlzXG4gICAqIHdpbGwgY2F1c2UgY3Vyc29yIHRvIGJlIGRpYWJsZWQgYXMgYSBzaWRlLWVmZmVjdC5cbiAgICpcbiAgICovXG4gIGNhcmV0SGlkZGVuPzogP2Jvb2xlYW4sXG5cbiAgLypcbiAgICogSWYgYHRydWVgLCBjb250ZXh0TWVudUhpZGRlbiBpcyBoaWRkZW4uIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBmYWxzZWAuXG4gICAqL1xuICBjb250ZXh0TWVudUhpZGRlbj86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhbiBpbml0aWFsIHZhbHVlIHRoYXQgd2lsbCBjaGFuZ2Ugd2hlbiB0aGUgdXNlciBzdGFydHMgdHlwaW5nLlxuICAgKiBVc2VmdWwgZm9yIHNpbXBsZSB1c2UtY2FzZXMgd2hlcmUgeW91IGRvIG5vdCB3YW50IHRvIGRlYWwgd2l0aCBsaXN0ZW5pbmdcbiAgICogdG8gZXZlbnRzIGFuZCB1cGRhdGluZyB0aGUgdmFsdWUgcHJvcCB0byBrZWVwIHRoZSBjb250cm9sbGVkIHN0YXRlIGluIHN5bmMuXG4gICAqL1xuICBkZWZhdWx0VmFsdWU/OiA/U3RyaW5naXNoLFxuXG4gIC8qKlxuICAgKiBJZiBgZmFsc2VgLCB0ZXh0IGlzIG5vdCBlZGl0YWJsZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHRydWVgLlxuICAgKi9cbiAgZWRpdGFibGU/OiA/Ym9vbGVhbixcblxuICBmb3J3YXJkZWRSZWY/OiA/UmVhY3RSZWZTZXR0ZXI8XG4gICAgUmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4gJiBJbXBlcmF0aXZlTWV0aG9kcyxcbiAgPixcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGljaCBrZXlib2FyZCB0byBvcGVuLCBlLmcuYG51bWVyaWNgLlxuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIHZhbHVlcyB3b3JrIGFjcm9zcyBwbGF0Zm9ybXM6XG4gICAqXG4gICAqIC0gYGRlZmF1bHRgXG4gICAqIC0gYG51bWVyaWNgXG4gICAqIC0gYG51bWJlci1wYWRgXG4gICAqIC0gYGRlY2ltYWwtcGFkYFxuICAgKiAtIGBlbWFpbC1hZGRyZXNzYFxuICAgKiAtIGBwaG9uZS1wYWRgXG4gICAqIC0gYHVybGBcbiAgICpcbiAgICogKmlPUyBPbmx5KlxuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIHZhbHVlcyB3b3JrIG9uIGlPUyBvbmx5OlxuICAgKlxuICAgKiAtIGBhc2NpaS1jYXBhYmxlYFxuICAgKiAtIGBudW1iZXJzLWFuZC1wdW5jdHVhdGlvbmBcbiAgICogLSBgbmFtZS1waG9uZS1wYWRgXG4gICAqIC0gYHR3aXR0ZXJgXG4gICAqIC0gYHdlYi1zZWFyY2hgXG4gICAqXG4gICAqICpBbmRyb2lkIE9ubHkqXG4gICAqXG4gICAqIFRoZSBmb2xsb3dpbmcgdmFsdWVzIHdvcmsgb24gQW5kcm9pZCBvbmx5OlxuICAgKlxuICAgKiAtIGB2aXNpYmxlLXBhc3N3b3JkYFxuICAgKlxuICAgKi9cbiAga2V5Ym9hcmRUeXBlPzogP0tleWJvYXJkVHlwZSxcblxuICAvKipcbiAgICogU3BlY2lmaWVzIGxhcmdlc3QgcG9zc2libGUgc2NhbGUgYSBmb250IGNhbiByZWFjaCB3aGVuIGBhbGxvd0ZvbnRTY2FsaW5nYCBpcyBlbmFibGVkLlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6XG4gICAqIGBudWxsL3VuZGVmaW5lZGAgKGRlZmF1bHQpOiBpbmhlcml0IGZyb20gdGhlIHBhcmVudCBub2RlIG9yIHRoZSBnbG9iYWwgZGVmYXVsdCAoMClcbiAgICogYDBgOiBubyBtYXgsIGlnbm9yZSBwYXJlbnQvZ2xvYmFsIGRlZmF1bHRcbiAgICogYD49IDFgOiBzZXRzIHRoZSBtYXhGb250U2l6ZU11bHRpcGxpZXIgb2YgdGhpcyBub2RlIHRvIHRoaXMgdmFsdWVcbiAgICovXG4gIG1heEZvbnRTaXplTXVsdGlwbGllcj86ID9udW1iZXIsXG5cbiAgLyoqXG4gICAqIExpbWl0cyB0aGUgbWF4aW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyB0aGF0IGNhbiBiZSBlbnRlcmVkLiBVc2UgdGhpc1xuICAgKiBpbnN0ZWFkIG9mIGltcGxlbWVudGluZyB0aGUgbG9naWMgaW4gSlMgdG8gYXZvaWQgZmxpY2tlci5cbiAgICovXG4gIG1heExlbmd0aD86ID9udW1iZXIsXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIHRleHQgaW5wdXQgY2FuIGJlIG11bHRpcGxlIGxpbmVzLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgZmFsc2VgLlxuICAgKi9cbiAgbXVsdGlsaW5lPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIHRleHQgaW5wdXQgaXMgYmx1cnJlZC5cbiAgICovXG4gIG9uQmx1cj86ID8oZTogQmx1ckV2ZW50KSA9PiBtaXhlZCxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgdGV4dCBpbnB1dCdzIHRleHQgY2hhbmdlcy5cbiAgICovXG4gIG9uQ2hhbmdlPzogPyhlOiBDaGFuZ2VFdmVudCkgPT4gbWl4ZWQsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIHRleHQgaW5wdXQncyB0ZXh0IGNoYW5nZXMuXG4gICAqIENoYW5nZWQgdGV4dCBpcyBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIGNhbGxiYWNrIGhhbmRsZXIuXG4gICAqL1xuICBvbkNoYW5nZVRleHQ/OiA/KHRleHQ6IHN0cmluZykgPT4gbWl4ZWQsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIHRleHQgaW5wdXQncyBjb250ZW50IHNpemUgY2hhbmdlcy5cbiAgICogVGhpcyB3aWxsIGJlIGNhbGxlZCB3aXRoXG4gICAqIGB7IG5hdGl2ZUV2ZW50OiB7IGNvbnRlbnRTaXplOiB7IHdpZHRoLCBoZWlnaHQgfSB9IH1gLlxuICAgKlxuICAgKiBPbmx5IGNhbGxlZCBmb3IgbXVsdGlsaW5lIHRleHQgaW5wdXRzLlxuICAgKi9cbiAgb25Db250ZW50U2l6ZUNoYW5nZT86ID8oZTogQ29udGVudFNpemVDaGFuZ2VFdmVudCkgPT4gbWl4ZWQsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGV4dCBpbnB1dCBlbmRzLlxuICAgKi9cbiAgb25FbmRFZGl0aW5nPzogPyhlOiBFZGl0aW5nRXZlbnQpID0+IG1peGVkLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSB0ZXh0IGlucHV0IGlzIGZvY3VzZWQuXG4gICAqL1xuICBvbkZvY3VzPzogPyhlOiBGb2N1c0V2ZW50KSA9PiBtaXhlZCxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiBhIGtleSBpcyBwcmVzc2VkLlxuICAgKiBUaGlzIHdpbGwgYmUgY2FsbGVkIHdpdGggYHsgbmF0aXZlRXZlbnQ6IHsga2V5OiBrZXlWYWx1ZSB9IH1gXG4gICAqIHdoZXJlIGBrZXlWYWx1ZWAgaXMgYCdFbnRlcidgIG9yIGAnQmFja3NwYWNlJ2AgZm9yIHJlc3BlY3RpdmUga2V5cyBhbmRcbiAgICogdGhlIHR5cGVkLWluIGNoYXJhY3RlciBvdGhlcndpc2UgaW5jbHVkaW5nIGAnICdgIGZvciBzcGFjZS5cbiAgICogRmlyZXMgYmVmb3JlIGBvbkNoYW5nZWAgY2FsbGJhY2tzLlxuICAgKi9cbiAgb25LZXlQcmVzcz86ID8oZTogS2V5UHJlc3NFdmVudCkgPT4gbWl4ZWQsXG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgdG91Y2ggaXMgZW5nYWdlZC5cbiAgICovXG4gIG9uUHJlc3NJbj86ID8oZXZlbnQ6IFByZXNzRXZlbnQpID0+IG1peGVkLFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIHRvdWNoIGlzIHJlbGVhc2VkLlxuICAgKi9cbiAgb25QcmVzc091dD86ID8oZXZlbnQ6IFByZXNzRXZlbnQpID0+IG1peGVkLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSB0ZXh0IGlucHV0IHNlbGVjdGlvbiBpcyBjaGFuZ2VkLlxuICAgKiBUaGlzIHdpbGwgYmUgY2FsbGVkIHdpdGhcbiAgICogYHsgbmF0aXZlRXZlbnQ6IHsgc2VsZWN0aW9uOiB7IHN0YXJ0LCBlbmQgfSB9IH1gLlxuICAgKi9cbiAgb25TZWxlY3Rpb25DaGFuZ2U/OiA/KGU6IFNlbGVjdGlvbkNoYW5nZUV2ZW50KSA9PiBtaXhlZCxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgdGV4dCBpbnB1dCdzIHN1Ym1pdCBidXR0b24gaXMgcHJlc3NlZC5cbiAgICogSW52YWxpZCBpZiBgbXVsdGlsaW5lPXt0cnVlfWAgaXMgc3BlY2lmaWVkLlxuICAgKi9cbiAgb25TdWJtaXRFZGl0aW5nPzogPyhlOiBFZGl0aW5nRXZlbnQpID0+IG1peGVkLFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIG9uIGNvbnRlbnQgc2Nyb2xsIHdpdGggYHsgbmF0aXZlRXZlbnQ6IHsgY29udGVudE9mZnNldDogeyB4LCB5IH0gfSB9YC5cbiAgICogTWF5IGFsc28gY29udGFpbiBvdGhlciBwcm9wZXJ0aWVzIGZyb20gU2Nyb2xsRXZlbnQgYnV0IG9uIEFuZHJvaWQgY29udGVudFNpemVcbiAgICogaXMgbm90IHByb3ZpZGVkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuICAgKi9cbiAgb25TY3JvbGw/OiA/KGU6IFNjcm9sbEV2ZW50KSA9PiBtaXhlZCxcblxuICAvKipcbiAgICogVGhlIHN0cmluZyB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYmVmb3JlIHRleHQgaW5wdXQgaGFzIGJlZW4gZW50ZXJlZC5cbiAgICovXG4gIHBsYWNlaG9sZGVyPzogP1N0cmluZ2lzaCxcblxuICAvKipcbiAgICogVGhlIHRleHQgY29sb3Igb2YgdGhlIHBsYWNlaG9sZGVyIHN0cmluZy5cbiAgICovXG4gIHBsYWNlaG9sZGVyVGV4dENvbG9yPzogP0NvbG9yVmFsdWUsXG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaG93IHRoZSByZXR1cm4ga2V5IHNob3VsZCBsb29rLiBPbiBBbmRyb2lkIHlvdSBjYW4gYWxzbyB1c2VcbiAgICogYHJldHVybktleUxhYmVsYC5cbiAgICpcbiAgICogKkNyb3NzIHBsYXRmb3JtKlxuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIHZhbHVlcyB3b3JrIGFjcm9zcyBwbGF0Zm9ybXM6XG4gICAqXG4gICAqIC0gYGRvbmVgXG4gICAqIC0gYGdvYFxuICAgKiAtIGBuZXh0YFxuICAgKiAtIGBzZWFyY2hgXG4gICAqIC0gYHNlbmRgXG4gICAqXG4gICAqICpBbmRyb2lkIE9ubHkqXG4gICAqXG4gICAqIFRoZSBmb2xsb3dpbmcgdmFsdWVzIHdvcmsgb24gQW5kcm9pZCBvbmx5OlxuICAgKlxuICAgKiAtIGBub25lYFxuICAgKiAtIGBwcmV2aW91c2BcbiAgICpcbiAgICogKmlPUyBPbmx5KlxuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIHZhbHVlcyB3b3JrIG9uIGlPUyBvbmx5OlxuICAgKlxuICAgKiAtIGBkZWZhdWx0YFxuICAgKiAtIGBlbWVyZ2VuY3ktY2FsbGBcbiAgICogLSBgZ29vZ2xlYFxuICAgKiAtIGBqb2luYFxuICAgKiAtIGByb3V0ZWBcbiAgICogLSBgeWFob29gXG4gICAqL1xuICByZXR1cm5LZXlUeXBlPzogP1JldHVybktleVR5cGUsXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIHRleHQgaW5wdXQgb2JzY3VyZXMgdGhlIHRleHQgZW50ZXJlZCBzbyB0aGF0IHNlbnNpdGl2ZSB0ZXh0XG4gICAqIGxpa2UgcGFzc3dvcmRzIHN0YXkgc2VjdXJlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgZmFsc2VgLiBEb2VzIG5vdCB3b3JrIHdpdGggJ211bHRpbGluZT17dHJ1ZX0nLlxuICAgKi9cbiAgc2VjdXJlVGV4dEVudHJ5PzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIFRoZSBzdGFydCBhbmQgZW5kIG9mIHRoZSB0ZXh0IGlucHV0J3Mgc2VsZWN0aW9uLiBTZXQgc3RhcnQgYW5kIGVuZCB0b1xuICAgKiB0aGUgc2FtZSB2YWx1ZSB0byBwb3NpdGlvbiB0aGUgY3Vyc29yLlxuICAgKi9cbiAgc2VsZWN0aW9uPzogPyRSZWFkT25seTx7fFxuICAgIHN0YXJ0OiBudW1iZXIsXG4gICAgZW5kPzogP251bWJlcixcbiAgfH0+LFxuXG4gIC8qKlxuICAgKiBUaGUgaGlnaGxpZ2h0IGFuZCBjdXJzb3IgY29sb3Igb2YgdGhlIHRleHQgaW5wdXQuXG4gICAqL1xuICBzZWxlY3Rpb25Db2xvcj86ID9Db2xvclZhbHVlLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIGFsbCB0ZXh0IHdpbGwgYXV0b21hdGljYWxseSBiZSBzZWxlY3RlZCBvbiBmb2N1cy5cbiAgICovXG4gIHNlbGVjdFRleHRPbkZvY3VzPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIE5vdGUgdGhhdCBub3QgYWxsIFRleHQgc3R5bGVzIGFyZSBzdXBwb3J0ZWQsIGFuIGluY29tcGxldGUgbGlzdCBvZiB3aGF0IGlzIG5vdCBzdXBwb3J0ZWQgaW5jbHVkZXM6XG4gICAqXG4gICAqIC0gYGJvcmRlckxlZnRXaWR0aGBcbiAgICogLSBgYm9yZGVyVG9wV2lkdGhgXG4gICAqIC0gYGJvcmRlclJpZ2h0V2lkdGhgXG4gICAqIC0gYGJvcmRlckJvdHRvbVdpZHRoYFxuICAgKiAtIGBib3JkZXJUb3BMZWZ0UmFkaXVzYFxuICAgKiAtIGBib3JkZXJUb3BSaWdodFJhZGl1c2BcbiAgICogLSBgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXNgXG4gICAqIC0gYGJvcmRlckJvdHRvbUxlZnRSYWRpdXNgXG4gICAqXG4gICAqIHNlZSBbSXNzdWUjNzA3MF0oaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9pc3N1ZXMvNzA3MClcbiAgICogZm9yIG1vcmUgZGV0YWlsLlxuICAgKlxuICAgKiBbU3R5bGVzXShkb2NzL3N0eWxlLmh0bWwpXG4gICAqL1xuICBzdHlsZT86ID9UZXh0U3R5bGVQcm9wLFxuXG4gIC8qKlxuICAgKiBUaGUgdmFsdWUgdG8gc2hvdyBmb3IgdGhlIHRleHQgaW5wdXQuIGBUZXh0SW5wdXRgIGlzIGEgY29udHJvbGxlZFxuICAgKiBjb21wb25lbnQsIHdoaWNoIG1lYW5zIHRoZSBuYXRpdmUgdmFsdWUgd2lsbCBiZSBmb3JjZWQgdG8gbWF0Y2ggdGhpc1xuICAgKiB2YWx1ZSBwcm9wIGlmIHByb3ZpZGVkLiBGb3IgbW9zdCB1c2VzLCB0aGlzIHdvcmtzIGdyZWF0LCBidXQgaW4gc29tZVxuICAgKiBjYXNlcyB0aGlzIG1heSBjYXVzZSBmbGlja2VyaW5nIC0gb25lIGNvbW1vbiBjYXVzZSBpcyBwcmV2ZW50aW5nIGVkaXRzXG4gICAqIGJ5IGtlZXBpbmcgdmFsdWUgdGhlIHNhbWUuIEluIGFkZGl0aW9uIHRvIHNpbXBseSBzZXR0aW5nIHRoZSBzYW1lIHZhbHVlLFxuICAgKiBlaXRoZXIgc2V0IGBlZGl0YWJsZT17ZmFsc2V9YCwgb3Igc2V0L3VwZGF0ZSBgbWF4TGVuZ3RoYCB0byBwcmV2ZW50XG4gICAqIHVud2FudGVkIGVkaXRzIHdpdGhvdXQgZmxpY2tlci5cbiAgICovXG4gIHZhbHVlPzogP1N0cmluZ2lzaCxcbnx9PjtcblxudHlwZSBJbXBlcmF0aXZlTWV0aG9kcyA9ICRSZWFkT25seTx7fFxuICBjbGVhcjogKCkgPT4gdm9pZCxcbiAgaXNGb2N1c2VkOiAoKSA9PiBib29sZWFuLFxuICBnZXROYXRpdmVSZWY6ICgpID0+ID9SZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8bWl4ZWQ+Pixcbnx9PjtcblxuY29uc3QgZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZSA9ICgpID0+IHRydWU7XG5cbi8qKlxuICogQSBmb3VuZGF0aW9uYWwgY29tcG9uZW50IGZvciBpbnB1dHRpbmcgdGV4dCBpbnRvIHRoZSBhcHAgdmlhIGFcbiAqIGtleWJvYXJkLiBQcm9wcyBwcm92aWRlIGNvbmZpZ3VyYWJpbGl0eSBmb3Igc2V2ZXJhbCBmZWF0dXJlcywgc3VjaCBhc1xuICogYXV0by1jb3JyZWN0aW9uLCBhdXRvLWNhcGl0YWxpemF0aW9uLCBwbGFjZWhvbGRlciB0ZXh0LCBhbmQgZGlmZmVyZW50IGtleWJvYXJkXG4gKiB0eXBlcywgc3VjaCBhcyBhIG51bWVyaWMga2V5cGFkLlxuICpcbiAqIFRoZSBzaW1wbGVzdCB1c2UgY2FzZSBpcyB0byBwbG9wIGRvd24gYSBgVGV4dElucHV0YCBhbmQgc3Vic2NyaWJlIHRvIHRoZVxuICogYG9uQ2hhbmdlVGV4dGAgZXZlbnRzIHRvIHJlYWQgdGhlIHVzZXIgaW5wdXQuIFRoZXJlIGFyZSBhbHNvIG90aGVyIGV2ZW50cyxcbiAqIHN1Y2ggYXMgYG9uU3VibWl0RWRpdGluZ2AgYW5kIGBvbkZvY3VzYCB0aGF0IGNhbiBiZSBzdWJzY3JpYmVkIHRvLiBBIHNpbXBsZVxuICogZXhhbXBsZTpcbiAqXG4gKiBgYGBSZWFjdE5hdGl2ZVdlYlBsYXllclxuICogaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbiAqIGltcG9ydCB7IEFwcFJlZ2lzdHJ5LCBUZXh0SW5wdXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuICpcbiAqIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZWxlc3NUZXh0SW5wdXQgZXh0ZW5kcyBDb21wb25lbnQge1xuICogICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICogICAgIHN1cGVyKHByb3BzKTtcbiAqICAgICB0aGlzLnN0YXRlID0geyB0ZXh0OiAnVXNlbGVzcyBQbGFjZWhvbGRlcicgfTtcbiAqICAgfVxuICpcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiAoXG4gKiAgICAgICA8VGV4dElucHV0XG4gKiAgICAgICAgIHN0eWxlPXt7aGVpZ2h0OiA0MCwgYm9yZGVyQ29sb3I6ICdncmF5JywgYm9yZGVyV2lkdGg6IDF9fVxuICogICAgICAgICBvbkNoYW5nZVRleHQ9eyh0ZXh0KSA9PiB0aGlzLnNldFN0YXRlKHt0ZXh0fSl9XG4gKiAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRleHR9XG4gKiAgICAgICAvPlxuICogICAgICk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBza2lwIHRoaXMgbGluZSBpZiB1c2luZyBDcmVhdGUgUmVhY3QgTmF0aXZlIEFwcFxuICogQXBwUmVnaXN0cnkucmVnaXN0ZXJDb21wb25lbnQoJ0F3ZXNvbWVQcm9qZWN0JywgKCkgPT4gVXNlbGVzc1RleHRJbnB1dCk7XG4gKiBgYGBcbiAqXG4gKiBUd28gbWV0aG9kcyBleHBvc2VkIHZpYSB0aGUgbmF0aXZlIGVsZW1lbnQgYXJlIC5mb2N1cygpIGFuZCAuYmx1cigpIHRoYXRcbiAqIHdpbGwgZm9jdXMgb3IgYmx1ciB0aGUgVGV4dElucHV0IHByb2dyYW1tYXRpY2FsbHkuXG4gKlxuICogTm90ZSB0aGF0IHNvbWUgcHJvcHMgYXJlIG9ubHkgYXZhaWxhYmxlIHdpdGggYG11bHRpbGluZT17dHJ1ZS9mYWxzZX1gLlxuICogQWRkaXRpb25hbGx5LCBib3JkZXIgc3R5bGVzIHRoYXQgYXBwbHkgdG8gb25seSBvbmUgc2lkZSBvZiB0aGUgZWxlbWVudFxuICogKGUuZy4sIGBib3JkZXJCb3R0b21Db2xvcmAsIGBib3JkZXJMZWZ0V2lkdGhgLCBldGMuKSB3aWxsIG5vdCBiZSBhcHBsaWVkIGlmXG4gKiBgbXVsdGlsaW5lPWZhbHNlYC4gVG8gYWNoaWV2ZSB0aGUgc2FtZSBlZmZlY3QsIHlvdSBjYW4gd3JhcCB5b3VyIGBUZXh0SW5wdXRgXG4gKiBpbiBhIGBWaWV3YDpcbiAqXG4gKiBgYGBSZWFjdE5hdGl2ZVdlYlBsYXllclxuICogaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbiAqIGltcG9ydCB7IEFwcFJlZ2lzdHJ5LCBWaWV3LCBUZXh0SW5wdXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuICpcbiAqIGNsYXNzIFVzZWxlc3NUZXh0SW5wdXQgZXh0ZW5kcyBDb21wb25lbnQge1xuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgIDxUZXh0SW5wdXRcbiAqICAgICAgICAgey4uLnRoaXMucHJvcHN9IC8vIEluaGVyaXQgYW55IHByb3BzIHBhc3NlZCB0byBpdDsgZS5nLiwgbXVsdGlsaW5lLCBudW1iZXJPZkxpbmVzIGJlbG93XG4gKiAgICAgICAgIGVkaXRhYmxlID0ge3RydWV9XG4gKiAgICAgICAgIG1heExlbmd0aCA9IHs0MH1cbiAqICAgICAgIC8+XG4gKiAgICAgKTtcbiAqICAgfVxuICogfVxuICpcbiAqIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZWxlc3NUZXh0SW5wdXRNdWx0aWxpbmUgZXh0ZW5kcyBDb21wb25lbnQge1xuICogICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICogICAgIHN1cGVyKHByb3BzKTtcbiAqICAgICB0aGlzLnN0YXRlID0ge1xuICogICAgICAgdGV4dDogJ1VzZWxlc3MgTXVsdGlsaW5lIFBsYWNlaG9sZGVyJyxcbiAqICAgICB9O1xuICogICB9XG4gKlxuICogICAvLyBJZiB5b3UgdHlwZSBzb21ldGhpbmcgaW4gdGhlIHRleHQgYm94IHRoYXQgaXMgYSBjb2xvciwgdGhlIGJhY2tncm91bmQgd2lsbCBjaGFuZ2UgdG8gdGhhdFxuICogICAvLyBjb2xvci5cbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiAoXG4gKiAgICAgIDxWaWV3IHN0eWxlPXt7XG4gKiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnN0YXRlLnRleHQsXG4gKiAgICAgICAgYm9yZGVyQm90dG9tQ29sb3I6ICcjMDAwMDAwJyxcbiAqICAgICAgICBib3JkZXJCb3R0b21XaWR0aDogMSB9fVxuICogICAgICA+XG4gKiAgICAgICAgPFVzZWxlc3NUZXh0SW5wdXRcbiAqICAgICAgICAgIG11bHRpbGluZSA9IHt0cnVlfVxuICogICAgICAgICAgbnVtYmVyT2ZMaW5lcyA9IHs0fVxuICogICAgICAgICAgb25DaGFuZ2VUZXh0PXsodGV4dCkgPT4gdGhpcy5zZXRTdGF0ZSh7dGV4dH0pfVxuICogICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGV4dH1cbiAqICAgICAgICAvPlxuICogICAgICA8L1ZpZXc+XG4gKiAgICAgKTtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIHNraXAgdGhlc2UgbGluZXMgaWYgdXNpbmcgQ3JlYXRlIFJlYWN0IE5hdGl2ZSBBcHBcbiAqIEFwcFJlZ2lzdHJ5LnJlZ2lzdGVyQ29tcG9uZW50KFxuICogICdBd2Vzb21lUHJvamVjdCcsXG4gKiAgKCkgPT4gVXNlbGVzc1RleHRJbnB1dE11bHRpbGluZVxuICogKTtcbiAqIGBgYFxuICpcbiAqIGBUZXh0SW5wdXRgIGhhcyBieSBkZWZhdWx0IGEgYm9yZGVyIGF0IHRoZSBib3R0b20gb2YgaXRzIHZpZXcuIFRoaXMgYm9yZGVyXG4gKiBoYXMgaXRzIHBhZGRpbmcgc2V0IGJ5IHRoZSBiYWNrZ3JvdW5kIGltYWdlIHByb3ZpZGVkIGJ5IHRoZSBzeXN0ZW0sIGFuZCBpdFxuICogY2Fubm90IGJlIGNoYW5nZWQuIFNvbHV0aW9ucyB0byBhdm9pZCB0aGlzIGlzIHRvIGVpdGhlciBub3Qgc2V0IGhlaWdodFxuICogZXhwbGljaXRseSwgY2FzZSBpbiB3aGljaCB0aGUgc3lzdGVtIHdpbGwgdGFrZSBjYXJlIG9mIGRpc3BsYXlpbmcgdGhlIGJvcmRlclxuICogaW4gdGhlIGNvcnJlY3QgcG9zaXRpb24sIG9yIHRvIG5vdCBkaXNwbGF5IHRoZSBib3JkZXIgYnkgc2V0dGluZ1xuICogYHVuZGVybGluZUNvbG9yQW5kcm9pZGAgdG8gdHJhbnNwYXJlbnQuXG4gKlxuICogTm90ZSB0aGF0IG9uIEFuZHJvaWQgcGVyZm9ybWluZyB0ZXh0IHNlbGVjdGlvbiBpbiBpbnB1dCBjYW4gY2hhbmdlXG4gKiBhcHAncyBhY3Rpdml0eSBgd2luZG93U29mdElucHV0TW9kZWAgcGFyYW0gdG8gYGFkanVzdFJlc2l6ZWAuXG4gKiBUaGlzIG1heSBjYXVzZSBpc3N1ZXMgd2l0aCBjb21wb25lbnRzIHRoYXQgaGF2ZSBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICogd2hpbGUga2V5Ym9hcmQgaXMgYWN0aXZlLiBUbyBhdm9pZCB0aGlzIGJlaGF2aW9yIGVpdGhlciBzcGVjaWZ5IGB3aW5kb3dTb2Z0SW5wdXRNb2RlYFxuICogaW4gQW5kcm9pZE1hbmlmZXN0LnhtbCAoIGh0dHBzOi8vZGV2ZWxvcGVyLmFuZHJvaWQuY29tL2d1aWRlL3RvcGljcy9tYW5pZmVzdC9hY3Rpdml0eS1lbGVtZW50Lmh0bWwgKVxuICogb3IgY29udHJvbCB0aGlzIHBhcmFtIHByb2dyYW1tYXRpY2FsbHkgd2l0aCBuYXRpdmUgY29kZS5cbiAqXG4gKi9cbmZ1bmN0aW9uIEludGVybmFsVGV4dElucHV0KHByb3BzOiBQcm9wcyk6IFJlYWN0Lk5vZGUge1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxudWxsIHwgUmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4+KG51bGwpO1xuXG4gIC8vIEFuZHJvaWQgc2VuZHMgYSBcIm9uVGV4dENoYW5nZWRcIiBldmVudCBmb2xsb3dlZCBieSBhIFwib25TZWxlY3Rpb25DaGFuZ2VkXCIgZXZlbnQsIGZvclxuICAvLyB0aGUgc2FtZSBcIm1vc3QgcmVjZW50IGV2ZW50IGNvdW50XCIuXG4gIC8vIEZvciBjb250cm9sbGVkIHNlbGVjdGlvbiwgdGhhdCBtZWFucyB0aGF0IGltbWVkaWF0ZWx5IGFmdGVyIHRleHQgaXMgdXBkYXRlZCxcbiAgLy8gYSBjb250cm9sbGVkIGNvbXBvbmVudCB3aWxsIHBhc3MgaW4gdGhlICpwcmV2aW91cyogc2VsZWN0aW9uLCBldmVuIGlmIHRoZSBjb250cm9sbGVkXG4gIC8vIGNvbXBvbmVudCBkaWRuJ3QgbWVhbiB0byBtb2RpZnkgdGhlIHNlbGVjdGlvbiBhdCBhbGwuXG4gIC8vIFRoZXJlZm9yZSwgd2UgaWdub3JlIHNlbGVjdGlvbnMgYW5kIHBhc3MgdGhlbSB0aHJvdWdoIHVudGlsIHRoZSBzZWxlY3Rpb24gZXZlbnQgaGFzXG4gIC8vIGJlZW4gc2VudC5cbiAgLy8gTm90ZSB0aGF0IHRoaXMgbWl0aWdhdGlvbiBpcyBOT1QgbmVlZGVkIGZvciBGYWJyaWMuXG4gIC8vIGRpc2NvdmVyZWQgd2hlbiB1cGdyYWRpbmcgcmVhY3QtaG9va3NcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBsZXQgc2VsZWN0aW9uOiA/U2VsZWN0aW9uID1cbiAgICBwcm9wcy5zZWxlY3Rpb24gPT0gbnVsbFxuICAgICAgPyBudWxsXG4gICAgICA6IHtcbiAgICAgICAgICBzdGFydDogcHJvcHMuc2VsZWN0aW9uLnN0YXJ0LFxuICAgICAgICAgIGVuZDogcHJvcHMuc2VsZWN0aW9uLmVuZCA/PyBwcm9wcy5zZWxlY3Rpb24uc3RhcnQsXG4gICAgICAgIH07XG5cbiAgY29uc3QgW21vc3RSZWNlbnRFdmVudENvdW50LCBzZXRNb3N0UmVjZW50RXZlbnRDb3VudF0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuXG4gIGNvbnN0IFtsYXN0TmF0aXZlVGV4dCwgc2V0TGFzdE5hdGl2ZVRleHRdID0gdXNlU3RhdGU8P1N0cmluZ2lzaD4ocHJvcHMudmFsdWUpO1xuICBjb25zdCBbbGFzdE5hdGl2ZVNlbGVjdGlvblN0YXRlLCBzZXRMYXN0TmF0aXZlU2VsZWN0aW9uXSA9IHVzZVN0YXRlPHt8XG4gICAgc2VsZWN0aW9uOiA/U2VsZWN0aW9uLFxuICAgIG1vc3RSZWNlbnRFdmVudENvdW50OiBudW1iZXIsXG4gIHx9Pih7c2VsZWN0aW9uLCBtb3N0UmVjZW50RXZlbnRDb3VudH0pO1xuXG4gIGNvbnN0IGxhc3ROYXRpdmVTZWxlY3Rpb24gPSBsYXN0TmF0aXZlU2VsZWN0aW9uU3RhdGUuc2VsZWN0aW9uO1xuICBjb25zdCBsYXN0TmF0aXZlU2VsZWN0aW9uRXZlbnRDb3VudCA9XG4gICAgbGFzdE5hdGl2ZVNlbGVjdGlvblN0YXRlLm1vc3RSZWNlbnRFdmVudENvdW50O1xuXG4gIGlmIChsYXN0TmF0aXZlU2VsZWN0aW9uRXZlbnRDb3VudCA8IG1vc3RSZWNlbnRFdmVudENvdW50KSB7XG4gICAgc2VsZWN0aW9uID0gbnVsbDtcbiAgfVxuXG4gIGxldCB2aWV3Q29tbWFuZHM7XG4gIGlmIChBbmRyb2lkVGV4dElucHV0Q29tbWFuZHMpIHtcbiAgICB2aWV3Q29tbWFuZHMgPSBBbmRyb2lkVGV4dElucHV0Q29tbWFuZHM7XG4gIH0gZWxzZSB7XG4gICAgdmlld0NvbW1hbmRzID1cbiAgICAgIHByb3BzLm11bHRpbGluZSA9PT0gdHJ1ZVxuICAgICAgICA/IFJDVE11bHRpbGluZVRleHRJbnB1dE5hdGl2ZUNvbW1hbmRzXG4gICAgICAgIDogUkNUU2luZ2xlbGluZVRleHRJbnB1dE5hdGl2ZUNvbW1hbmRzO1xuICB9XG5cbiAgY29uc3QgdGV4dCA9XG4gICAgdHlwZW9mIHByb3BzLnZhbHVlID09PSAnc3RyaW5nJ1xuICAgICAgPyBwcm9wcy52YWx1ZVxuICAgICAgOiB0eXBlb2YgcHJvcHMuZGVmYXVsdFZhbHVlID09PSAnc3RyaW5nJ1xuICAgICAgPyBwcm9wcy5kZWZhdWx0VmFsdWVcbiAgICAgIDogJyc7XG5cbiAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgaW4gY2FzZSBuYXRpdmUgdXBkYXRlcyB0aGUgdGV4dCBhbmQgSlMgZGVjaWRlc1xuICAvLyB0aGF0IHRoZSB1cGRhdGUgc2hvdWxkIGJlIGlnbm9yZWQgYW5kIHdlIHNob3VsZCBzdGljayB3aXRoIHRoZSB2YWx1ZVxuICAvLyB0aGF0IHdlIGhhdmUgaW4gSlMuXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbmF0aXZlVXBkYXRlID0ge307XG5cbiAgICBpZiAobGFzdE5hdGl2ZVRleHQgIT09IHByb3BzLnZhbHVlICYmIHR5cGVvZiBwcm9wcy52YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hdGl2ZVVwZGF0ZS50ZXh0ID0gcHJvcHMudmFsdWU7XG4gICAgICBzZXRMYXN0TmF0aXZlVGV4dChwcm9wcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgc2VsZWN0aW9uICYmXG4gICAgICBsYXN0TmF0aXZlU2VsZWN0aW9uICYmXG4gICAgICAobGFzdE5hdGl2ZVNlbGVjdGlvbi5zdGFydCAhPT0gc2VsZWN0aW9uLnN0YXJ0IHx8XG4gICAgICAgIGxhc3ROYXRpdmVTZWxlY3Rpb24uZW5kICE9PSBzZWxlY3Rpb24uZW5kKVxuICAgICkge1xuICAgICAgbmF0aXZlVXBkYXRlLnNlbGVjdGlvbiA9IHNlbGVjdGlvbjtcbiAgICAgIHNldExhc3ROYXRpdmVTZWxlY3Rpb24oe3NlbGVjdGlvbiwgbW9zdFJlY2VudEV2ZW50Q291bnR9KTtcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmtleXMobmF0aXZlVXBkYXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCAhPSBudWxsKSB7XG4gICAgICB2aWV3Q29tbWFuZHMuc2V0VGV4dEFuZFNlbGVjdGlvbihcbiAgICAgICAgaW5wdXRSZWYuY3VycmVudCxcbiAgICAgICAgbW9zdFJlY2VudEV2ZW50Q291bnQsXG4gICAgICAgIHRleHQsXG4gICAgICAgIHNlbGVjdGlvbj8uc3RhcnQgPz8gLTEsXG4gICAgICAgIHNlbGVjdGlvbj8uZW5kID8/IC0xLFxuICAgICAgKTtcbiAgICB9XG4gIH0sIFtcbiAgICBtb3N0UmVjZW50RXZlbnRDb3VudCxcbiAgICBpbnB1dFJlZixcbiAgICBwcm9wcy52YWx1ZSxcbiAgICBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgbGFzdE5hdGl2ZVRleHQsXG4gICAgc2VsZWN0aW9uLFxuICAgIGxhc3ROYXRpdmVTZWxlY3Rpb24sXG4gICAgdGV4dCxcbiAgICB2aWV3Q29tbWFuZHMsXG4gIF0pO1xuXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaW5wdXRSZWZWYWx1ZSA9IGlucHV0UmVmLmN1cnJlbnQ7XG5cbiAgICBpZiAoaW5wdXRSZWZWYWx1ZSAhPSBudWxsKSB7XG4gICAgICBUZXh0SW5wdXRTdGF0ZS5yZWdpc3RlcklucHV0KGlucHV0UmVmVmFsdWUpO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBUZXh0SW5wdXRTdGF0ZS51bnJlZ2lzdGVySW5wdXQoaW5wdXRSZWZWYWx1ZSk7XG5cbiAgICAgICAgaWYgKFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpID09PSBpbnB1dFJlZlZhbHVlKSB7XG4gICAgICAgICAgbnVsbHRocm93cyhpbnB1dFJlZlZhbHVlKS5ibHVyKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9LCBbaW5wdXRSZWZdKTtcblxuICBmdW5jdGlvbiBjbGVhcigpOiB2b2lkIHtcbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCAhPSBudWxsKSB7XG4gICAgICB2aWV3Q29tbWFuZHMuc2V0VGV4dEFuZFNlbGVjdGlvbihcbiAgICAgICAgaW5wdXRSZWYuY3VycmVudCxcbiAgICAgICAgbW9zdFJlY2VudEV2ZW50Q291bnQsXG4gICAgICAgICcnLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBUT0RPOiBGaXggdGhpcyByZXR1cm5pbmcgdHJ1ZSBvbiBudWxsID09PSBudWxsLCB3aGVuIG5vIGlucHV0IGlzIGZvY3VzZWRcbiAgZnVuY3Rpb24gaXNGb2N1c2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKSA9PT0gaW5wdXRSZWYuY3VycmVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE5hdGl2ZVJlZigpOiA/UmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4ge1xuICAgIHJldHVybiBpbnB1dFJlZi5jdXJyZW50O1xuICB9XG5cbiAgY29uc3QgX3NldE5hdGl2ZVJlZiA9IHNldEFuZEZvcndhcmRSZWYoe1xuICAgIGdldEZvcndhcmRlZFJlZjogKCkgPT4gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgIHNldExvY2FsUmVmOiByZWYgPT4ge1xuICAgICAgaW5wdXRSZWYuY3VycmVudCA9IHJlZjtcblxuICAgICAgLypcbiAgICAgICAgSGkgcmVhZGVyIGZyb20gdGhlIGZ1dHVyZS4gSSdtIHNvcnJ5IGZvciB0aGlzLlxuXG4gICAgICAgIFRoaXMgaXMgYSBoYWNrLiBJZGVhbGx5IHdlIHdvdWxkIGZvcndhcmRSZWYgdG8gdGhlIHVuZGVybHlpbmdcbiAgICAgICAgaG9zdCBjb21wb25lbnQuIEhvd2V2ZXIsIHNpbmNlIFRleHRJbnB1dCBoYXMgaXQncyBvd24gbWV0aG9kcyB0aGF0IGNhbiBiZVxuICAgICAgICBjYWxsZWQgYXMgd2VsbCwgaWYgd2UgdXNlZCB0aGUgc3RhbmRhcmQgZm9yd2FyZFJlZiB0aGVuIHRoZXNlXG4gICAgICAgIG1ldGhvZHMgd291bGRuJ3QgYmUgYWNjZXNzaWJsZSBhbmQgdGh1cyBiZSBhIGJyZWFraW5nIGNoYW5nZS5cblxuICAgICAgICBXZSBoYXZlIGEgY291cGxlIG9mIG9wdGlvbnMgb2YgaG93IHRvIGhhbmRsZSB0aGlzOlxuICAgICAgICAtIFJldHVybiBhIG5ldyByZWYgd2l0aCBldmVyeXRoaW5nIHdlIG1ldGhvZHMgZnJvbSBib3RoLiBUaGlzIGlzIHByb2JsZW1hdGljXG4gICAgICAgICAgYmVjYXVzZSB3ZSBuZWVkIFJlYWN0IHRvIGFsc28ga25vdyBpdCBpcyBhIGhvc3QgY29tcG9uZW50IHdoaWNoIHJlcXVpcmVzXG4gICAgICAgICAgaW50ZXJuYWxzIG9mIHRoZSBjbGFzcyBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgcmVmLlxuICAgICAgICAtIEJyZWFrIHRoZSBBUEkgYW5kIGhhdmUgc29tZSBvdGhlciB3YXkgdG8gY2FsbCBvbmUgc2V0IG9mIHRoZSBtZXRob2RzIG9yXG4gICAgICAgICAgdGhlIG90aGVyLiBUaGlzIGlzIG91ciBsb25nIHRlcm0gYXBwcm9hY2ggYXMgd2Ugd2FudCB0byBldmVudHVhbGx5XG4gICAgICAgICAgZ2V0IHRoZSBtZXRob2RzIG9uIGhvc3QgY29tcG9uZW50cyBvZmYgdGhlIHJlZi4gU28gaW5zdGVhZCBvZiBjYWxsaW5nXG4gICAgICAgICAgcmVmLm1lYXN1cmUoKSB5b3UgbWlnaHQgY2FsbCBSZWFjdE5hdGl2ZS5tZWFzdXJlKHJlZikuIFRoaXMgd291bGQgaG9wZWZ1bGx5XG4gICAgICAgICAgbGV0IHRoZSByZWYgZm9yIFRleHRJbnB1dCB0aGVuIGhhdmUgdGhlIG1ldGhvZHMgbGlrZSBgLmNsZWFyYC4gT3Igd2UgZG8gaXRcbiAgICAgICAgICB0aGUgb3RoZXIgd2F5IGFuZCBtYWtlIGl0IFRleHRJbnB1dC5jbGVhcih0ZXh0SW5wdXRSZWYpIHdoaWNoIHdvdWxkIGJlIGZpbmVcbiAgICAgICAgICB0b28uIEVpdGhlciB3YXkgdGhvdWdoIGlzIGEgYnJlYWtpbmcgY2hhbmdlIHRoYXQgaXMgbG9uZ2VyIHRlcm0uXG4gICAgICAgIC0gTXV0YXRlIHRoaXMgcmVmLiA6KCBHcm9zcywgYnV0IGFjY29tcGxpc2hlcyB3aGF0IHdlIG5lZWQgaW4gdGhlIG1lYW50aW1lXG4gICAgICAgICAgYmVmb3JlIHdlIGNhbiBnZXQgdG8gdGhlIGxvbmcgdGVybSBicmVha2luZyBjaGFuZ2UuXG4gICAgICAgICovXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIHJlZi5jbGVhciA9IGNsZWFyO1xuICAgICAgICByZWYuaXNGb2N1c2VkID0gaXNGb2N1c2VkO1xuICAgICAgICByZWYuZ2V0TmF0aXZlUmVmID0gZ2V0TmF0aXZlUmVmO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IF9vbkNoYW5nZSA9IChldmVudDogQ2hhbmdlRXZlbnQpID0+IHtcbiAgICBjb25zdCB0ZXh0ID0gZXZlbnQubmF0aXZlRXZlbnQudGV4dDtcbiAgICBwcm9wcy5vbkNoYW5nZSAmJiBwcm9wcy5vbkNoYW5nZShldmVudCk7XG4gICAgcHJvcHMub25DaGFuZ2VUZXh0ICYmIHByb3BzLm9uQ2hhbmdlVGV4dCh0ZXh0KTtcblxuICAgIGlmIChpbnB1dFJlZi5jdXJyZW50ID09IG51bGwpIHtcbiAgICAgIC8vIGNhbGxpbmcgYHByb3BzLm9uQ2hhbmdlYCBvciBgcHJvcHMub25DaGFuZ2VUZXh0YFxuICAgICAgLy8gbWF5IGNsZWFuIHVwIHRoZSBpbnB1dCBpdHNlbGYuIEV4aXRzIGhlcmUuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0TGFzdE5hdGl2ZVRleHQodGV4dCk7XG4gICAgLy8gVGhpcyBtdXN0IGhhcHBlbiBsYXN0LCBhZnRlciB3ZSBjYWxsIHNldExhc3ROYXRpdmVUZXh0LlxuICAgIC8vIERpZmZlcmVudCBvcmRlcmluZyBjYW4gY2F1c2UgYnVncyB3aGVuIGVkaXRpbmcgQW5kcm9pZFRleHRJbnB1dHNcbiAgICAvLyB3aXRoIG11bHRpcGxlIEZyYWdtZW50cy5cbiAgICAvLyBXZSBtdXN0IHVwZGF0ZSB0aGlzIHNvIHRoYXQgY29udHJvbGxlZCBpbnB1dCB1cGRhdGVzIHdvcmsuXG4gICAgc2V0TW9zdFJlY2VudEV2ZW50Q291bnQoZXZlbnQubmF0aXZlRXZlbnQuZXZlbnRDb3VudCk7XG4gIH07XG5cbiAgY29uc3QgX29uU2VsZWN0aW9uQ2hhbmdlID0gKGV2ZW50OiBTZWxlY3Rpb25DaGFuZ2VFdmVudCkgPT4ge1xuICAgIHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlICYmIHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlKGV2ZW50KTtcblxuICAgIGlmIChpbnB1dFJlZi5jdXJyZW50ID09IG51bGwpIHtcbiAgICAgIC8vIGNhbGxpbmcgYHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlYFxuICAgICAgLy8gbWF5IGNsZWFuIHVwIHRoZSBpbnB1dCBpdHNlbGYuIEV4aXRzIGhlcmUuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0TGFzdE5hdGl2ZVNlbGVjdGlvbih7XG4gICAgICBzZWxlY3Rpb246IGV2ZW50Lm5hdGl2ZUV2ZW50LnNlbGVjdGlvbixcbiAgICAgIG1vc3RSZWNlbnRFdmVudENvdW50LFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IF9vbkZvY3VzID0gKGV2ZW50OiBGb2N1c0V2ZW50KSA9PiB7XG4gICAgVGV4dElucHV0U3RhdGUuZm9jdXNJbnB1dChpbnB1dFJlZi5jdXJyZW50KTtcbiAgICBpZiAocHJvcHMub25Gb2N1cykge1xuICAgICAgcHJvcHMub25Gb2N1cyhldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IF9vbkJsdXIgPSAoZXZlbnQ6IEJsdXJFdmVudCkgPT4ge1xuICAgIFRleHRJbnB1dFN0YXRlLmJsdXJJbnB1dChpbnB1dFJlZi5jdXJyZW50KTtcbiAgICBpZiAocHJvcHMub25CbHVyKSB7XG4gICAgICBwcm9wcy5vbkJsdXIoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBfb25TY3JvbGwgPSAoZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgcHJvcHMub25TY3JvbGwgJiYgcHJvcHMub25TY3JvbGwoZXZlbnQpO1xuICB9O1xuXG4gIGxldCB0ZXh0SW5wdXQgPSBudWxsO1xuXG4gIC8vIFRoZSBkZWZhdWx0IHZhbHVlIGZvciBgYmx1ck9uU3VibWl0YCBpcyB0cnVlIGZvciBzaW5nbGUtbGluZSBmaWVsZHMgYW5kXG4gIC8vIGZhbHNlIGZvciBtdWx0aS1saW5lIGZpZWxkcy5cbiAgY29uc3QgYmx1ck9uU3VibWl0ID0gcHJvcHMuYmx1ck9uU3VibWl0ID8/ICFwcm9wcy5tdWx0aWxpbmU7XG5cbiAgY29uc3QgYWNjZXNzaWJsZSA9IHByb3BzLmFjY2Vzc2libGUgIT09IGZhbHNlO1xuICBjb25zdCBmb2N1c2FibGUgPSBwcm9wcy5mb2N1c2FibGUgIT09IGZhbHNlO1xuXG4gIGNvbnN0IGNvbmZpZyA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIG9uUHJlc3M6IChldmVudDogUHJlc3NFdmVudCkgPT4ge1xuICAgICAgICBpZiAocHJvcHMuZWRpdGFibGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgaWYgKGlucHV0UmVmLmN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uUHJlc3NJbjogcHJvcHMub25QcmVzc0luLFxuICAgICAgb25QcmVzc091dDogcHJvcHMub25QcmVzc091dCxcbiAgICAgIGNhbmNlbGFibGU6XG4gICAgICAgIFBsYXRmb3JtLk9TID09PSAnaW9zJyA/ICFwcm9wcy5yZWplY3RSZXNwb25kZXJUZXJtaW5hdGlvbiA6IG51bGwsXG4gICAgfSksXG4gICAgW1xuICAgICAgcHJvcHMuZWRpdGFibGUsXG4gICAgICBwcm9wcy5vblByZXNzSW4sXG4gICAgICBwcm9wcy5vblByZXNzT3V0LFxuICAgICAgcHJvcHMucmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb24sXG4gICAgXSxcbiAgKTtcblxuICAvLyBIaWRlIGNhcmV0IGR1cmluZyB0ZXN0IHJ1bnMgZHVlIHRvIGEgZmxhc2hpbmcgY2FyZXRcbiAgLy8gbWFrZXMgc2NyZWVuc2hvdCB0ZXN0cyBmbGFrZXlcbiAgbGV0IGNhcmV0SGlkZGVuID0gcHJvcHMuY2FyZXRIaWRkZW47XG4gIGlmIChQbGF0Zm9ybS5pc1Rlc3RpbmcpIHtcbiAgICBjYXJldEhpZGRlbiA9IHRydWU7XG4gIH1cblxuICAvLyBUZXh0SW5wdXQgaGFuZGxlcyBvbkJsdXIgYW5kIG9uRm9jdXMgZXZlbnRzXG4gIC8vIHNvIG9taXR0aW5nIG9uQmx1ciBhbmQgb25Gb2N1cyBwcmVzc2FiaWxpdHkgaGFuZGxlcnMgaGVyZS5cbiAgY29uc3Qge29uQmx1ciwgb25Gb2N1cywgLi4uZXZlbnRIYW5kbGVyc30gPSB1c2VQcmVzc2FiaWxpdHkoY29uZmlnKSB8fCB7fTtcblxuICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgY29uc3QgUkNUVGV4dElucHV0VmlldyA9XG4gICAgICBwcm9wcy5tdWx0aWxpbmUgPT09IHRydWVcbiAgICAgICAgPyBSQ1RNdWx0aWxpbmVUZXh0SW5wdXRWaWV3XG4gICAgICAgIDogUkNUU2luZ2xlbGluZVRleHRJbnB1dFZpZXc7XG5cbiAgICBjb25zdCBzdHlsZSA9XG4gICAgICBwcm9wcy5tdWx0aWxpbmUgPT09IHRydWVcbiAgICAgICAgPyBbc3R5bGVzLm11bHRpbGluZUlucHV0LCBwcm9wcy5zdHlsZV1cbiAgICAgICAgOiBwcm9wcy5zdHlsZTtcblxuICAgIHRleHRJbnB1dCA9IChcbiAgICAgIDxSQ1RUZXh0SW5wdXRWaWV3XG4gICAgICAgIHJlZj17X3NldE5hdGl2ZVJlZn1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgICB7Li4uZXZlbnRIYW5kbGVyc31cbiAgICAgICAgYWNjZXNzaWJsZT17YWNjZXNzaWJsZX1cbiAgICAgICAgYmx1ck9uU3VibWl0PXtibHVyT25TdWJtaXR9XG4gICAgICAgIGNhcmV0SGlkZGVuPXtjYXJldEhpZGRlbn1cbiAgICAgICAgZGF0YURldGVjdG9yVHlwZXM9e3Byb3BzLmRhdGFEZXRlY3RvclR5cGVzfVxuICAgICAgICBmb2N1c2FibGU9e2ZvY3VzYWJsZX1cbiAgICAgICAgbW9zdFJlY2VudEV2ZW50Q291bnQ9e21vc3RSZWNlbnRFdmVudENvdW50fVxuICAgICAgICBvbkJsdXI9e19vbkJsdXJ9XG4gICAgICAgIG9uQ2hhbmdlPXtfb25DaGFuZ2V9XG4gICAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U9e3Byb3BzLm9uQ29udGVudFNpemVDaGFuZ2V9XG4gICAgICAgIG9uRm9jdXM9e19vbkZvY3VzfVxuICAgICAgICBvblNjcm9sbD17X29uU2Nyb2xsfVxuICAgICAgICBvblNlbGVjdGlvbkNoYW5nZT17X29uU2VsZWN0aW9uQ2hhbmdlfVxuICAgICAgICBvblNlbGVjdGlvbkNoYW5nZVNob3VsZFNldFJlc3BvbmRlcj17ZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZX1cbiAgICAgICAgc2VsZWN0aW9uPXtzZWxlY3Rpb259XG4gICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgdGV4dD17dGV4dH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgY29uc3Qgc3R5bGUgPSBbcHJvcHMuc3R5bGVdO1xuICAgIGNvbnN0IGF1dG9DYXBpdGFsaXplID0gcHJvcHMuYXV0b0NhcGl0YWxpemUgfHwgJ3NlbnRlbmNlcyc7XG4gICAgY29uc3QgcGxhY2Vob2xkZXIgPSBwcm9wcy5wbGFjZWhvbGRlciA/PyAnJztcbiAgICBsZXQgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcbiAgICBjb25zdCBjaGlsZENvdW50ID0gUmVhY3QuQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pO1xuICAgIGludmFyaWFudChcbiAgICAgICEocHJvcHMudmFsdWUgIT0gbnVsbCAmJiBjaGlsZENvdW50KSxcbiAgICAgICdDYW5ub3Qgc3BlY2lmeSBib3RoIHZhbHVlIGFuZCBjaGlsZHJlbi4nLFxuICAgICk7XG4gICAgaWYgKGNoaWxkQ291bnQgPiAxKSB7XG4gICAgICBjaGlsZHJlbiA9IDxUZXh0PntjaGlsZHJlbn08L1RleHQ+O1xuICAgIH1cblxuICAgIHRleHRJbnB1dCA9IChcbiAgICAgIC8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSB0aGUgdHlwZXMgZm9yIEFuZHJvaWRUZXh0SW5wdXQgZG9uJ3QgbWF0Y2ggdXBcbiAgICAgICAqIGV4YWN0bHkgd2l0aCB0aGUgcHJvcHMgZm9yIFRleHRJbnB1dC4gVGhpcyB3aWxsIG5lZWQgdG8gZ2V0IGZpeGVkICovXG4gICAgICAvKiAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXSB0aGUgdHlwZXMgZm9yIEFuZHJvaWRUZXh0SW5wdXQgZG9uJ3RcbiAgICAgICAqIG1hdGNoIHVwIGV4YWN0bHkgd2l0aCB0aGUgcHJvcHMgZm9yIFRleHRJbnB1dC4gVGhpcyB3aWxsIG5lZWQgdG8gZ2V0XG4gICAgICAgKiBmaXhlZCAqL1xuICAgICAgLyogJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZS1hcmddIHRoZSB0eXBlcyBmb3IgQW5kcm9pZFRleHRJbnB1dCBkb24ndFxuICAgICAgICogbWF0Y2ggdXAgZXhhY3RseSB3aXRoIHRoZSBwcm9wcyBmb3IgVGV4dElucHV0LiBUaGlzIHdpbGwgbmVlZCB0byBnZXRcbiAgICAgICAqIGZpeGVkICovXG4gICAgICA8QW5kcm9pZFRleHRJbnB1dFxuICAgICAgICByZWY9e19zZXROYXRpdmVSZWZ9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgey4uLmV2ZW50SGFuZGxlcnN9XG4gICAgICAgIGFjY2Vzc2libGU9e2FjY2Vzc2libGV9XG4gICAgICAgIGF1dG9DYXBpdGFsaXplPXthdXRvQ2FwaXRhbGl6ZX1cbiAgICAgICAgYmx1ck9uU3VibWl0PXtibHVyT25TdWJtaXR9XG4gICAgICAgIGNhcmV0SGlkZGVuPXtjYXJldEhpZGRlbn1cbiAgICAgICAgY2hpbGRyZW49e2NoaWxkcmVufVxuICAgICAgICBkaXNhYmxlRnVsbHNjcmVlblVJPXtwcm9wcy5kaXNhYmxlRnVsbHNjcmVlblVJfVxuICAgICAgICBmb2N1c2FibGU9e2ZvY3VzYWJsZX1cbiAgICAgICAgbW9zdFJlY2VudEV2ZW50Q291bnQ9e21vc3RSZWNlbnRFdmVudENvdW50fVxuICAgICAgICBvbkJsdXI9e19vbkJsdXJ9XG4gICAgICAgIG9uQ2hhbmdlPXtfb25DaGFuZ2V9XG4gICAgICAgIG9uRm9jdXM9e19vbkZvY3VzfVxuICAgICAgICAvKiAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gdGhlIHR5cGVzIGZvciBBbmRyb2lkVGV4dElucHV0IGRvbid0IG1hdGNoXG4gICAgICAgICAqIHVwIGV4YWN0bHkgd2l0aCB0aGUgcHJvcHMgZm9yIFRleHRJbnB1dC4gVGhpcyB3aWxsIG5lZWQgdG8gZ2V0IGZpeGVkXG4gICAgICAgICAqL1xuICAgICAgICAvKiAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ10gdGhlIHR5cGVzIGZvciBBbmRyb2lkVGV4dElucHV0XG4gICAgICAgICAqIGRvbid0IG1hdGNoIHVwIGV4YWN0bHkgd2l0aCB0aGUgcHJvcHMgZm9yIFRleHRJbnB1dC4gVGhpcyB3aWxsIG5lZWRcbiAgICAgICAgICogdG8gZ2V0IGZpeGVkICovXG4gICAgICAgIG9uU2Nyb2xsPXtfb25TY3JvbGx9XG4gICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlPXtfb25TZWxlY3Rpb25DaGFuZ2V9XG4gICAgICAgIHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cbiAgICAgICAgc2VsZWN0aW9uPXtzZWxlY3Rpb259XG4gICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgdGV4dD17dGV4dH1cbiAgICAgICAgdGV4dEJyZWFrU3RyYXRlZ3k9e3Byb3BzLnRleHRCcmVha1N0cmF0ZWd5fVxuICAgICAgLz5cbiAgICApO1xuICB9XG4gIHJldHVybiAoXG4gICAgPFRleHRBbmNlc3Rvci5Qcm92aWRlciB2YWx1ZT17dHJ1ZX0+e3RleHRJbnB1dH08L1RleHRBbmNlc3Rvci5Qcm92aWRlcj5cbiAgKTtcbn1cblxuY29uc3QgRXhwb3J0ZWRGb3J3YXJkUmVmOiBSZWFjdC5BYnN0cmFjdENvbXBvbmVudDxcbiAgUmVhY3QuRWxlbWVudENvbmZpZzx0eXBlb2YgSW50ZXJuYWxUZXh0SW5wdXQ+LFxuICBSZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8bWl4ZWQ+PiAmIEltcGVyYXRpdmVNZXRob2RzLFxuPiA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gVGV4dElucHV0KFxuICB7XG4gICAgYWxsb3dGb250U2NhbGluZyA9IHRydWUsXG4gICAgcmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb24gPSB0cnVlLFxuICAgIHVuZGVybGluZUNvbG9yQW5kcm9pZCA9ICd0cmFuc3BhcmVudCcsXG4gICAgLi4ucmVzdFByb3BzXG4gIH0sXG4gIGZvcndhcmRlZFJlZjogUmVhY3RSZWZTZXR0ZXI8XG4gICAgUmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4gJiBJbXBlcmF0aXZlTWV0aG9kcyxcbiAgPixcbikge1xuICByZXR1cm4gKFxuICAgIDxJbnRlcm5hbFRleHRJbnB1dFxuICAgICAgYWxsb3dGb250U2NhbGluZz17YWxsb3dGb250U2NhbGluZ31cbiAgICAgIHJlamVjdFJlc3BvbmRlclRlcm1pbmF0aW9uPXtyZWplY3RSZXNwb25kZXJUZXJtaW5hdGlvbn1cbiAgICAgIHVuZGVybGluZUNvbG9yQW5kcm9pZD17dW5kZXJsaW5lQ29sb3JBbmRyb2lkfVxuICAgICAgey4uLnJlc3RQcm9wc31cbiAgICAgIGZvcndhcmRlZFJlZj17Zm9yd2FyZGVkUmVmfVxuICAgIC8+XG4gICk7XG59KTtcblxuLy8gVE9ETzogRGVwcmVjYXRlIHRoaXNcbkV4cG9ydGVkRm9yd2FyZFJlZi5wcm9wVHlwZXMgPSBEZXByZWNhdGVkVGV4dElucHV0UHJvcFR5cGVzO1xuXG4vLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbkV4cG9ydGVkRm9yd2FyZFJlZi5TdGF0ZSA9IHtcbiAgY3VycmVudGx5Rm9jdXNlZElucHV0OiBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQsXG5cbiAgY3VycmVudGx5Rm9jdXNlZEZpZWxkOiBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkRmllbGQsXG4gIGZvY3VzVGV4dElucHV0OiBUZXh0SW5wdXRTdGF0ZS5mb2N1c1RleHRJbnB1dCxcbiAgYmx1clRleHRJbnB1dDogVGV4dElucHV0U3RhdGUuYmx1clRleHRJbnB1dCxcbn07XG5cbnR5cGUgVGV4dElucHV0Q29tcG9uZW50U3RhdGljcyA9ICRSZWFkT25seTx7fFxuICBTdGF0ZTogJFJlYWRPbmx5PHt8XG4gICAgY3VycmVudGx5Rm9jdXNlZElucHV0OiB0eXBlb2YgVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZElucHV0LFxuICAgIGN1cnJlbnRseUZvY3VzZWRGaWVsZDogdHlwZW9mIFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRGaWVsZCxcbiAgICBmb2N1c1RleHRJbnB1dDogdHlwZW9mIFRleHRJbnB1dFN0YXRlLmZvY3VzVGV4dElucHV0LFxuICAgIGJsdXJUZXh0SW5wdXQ6IHR5cGVvZiBUZXh0SW5wdXRTdGF0ZS5ibHVyVGV4dElucHV0LFxuICB8fT4sXG4gIHByb3BUeXBlczogdHlwZW9mIERlcHJlY2F0ZWRUZXh0SW5wdXRQcm9wVHlwZXMsXG58fT47XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgbXVsdGlsaW5lSW5wdXQ6IHtcbiAgICAvLyBUaGlzIGRlZmF1bHQgdG9wIGluc2V0IG1ha2VzIFJDVE11bHRpbGluZVRleHRJbnB1dFZpZXcgc2VlbSBhcyBjbG9zZSBhcyBwb3NzaWJsZVxuICAgIC8vIHRvIHNpbmdsZS1saW5lIFJDVFNpbmdsZWxpbmVUZXh0SW5wdXRWaWV3IGRlZmF1bHRzLCB1c2luZyB0aGUgc3lzdGVtIGRlZmF1bHRzXG4gICAgLy8gb2YgZm9udCBzaXplIDE3IGFuZCBhIGhlaWdodCBvZiAzMSBwb2ludHMuXG4gICAgcGFkZGluZ1RvcDogNSxcbiAgfSxcbn0pO1xuXG4vLyAkRmxvd0ZpeE1lW3VuY2xlYXItdHlwZV0gVW5jbGVhciB0eXBlLiBVc2luZyBgYW55YCB0eXBlIGlzIG5vdCBzYWZlLlxubW9kdWxlLmV4cG9ydHMgPSAoKEV4cG9ydGVkRm9yd2FyZFJlZjogYW55KTogUmVhY3QuQWJzdHJhY3RDb21wb25lbnQ8XG4gIFJlYWN0LkVsZW1lbnRDb25maWc8dHlwZW9mIEludGVybmFsVGV4dElucHV0PixcbiAgJFJlYWRPbmx5PHt8XG4gICAgLi4uUmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4sXG4gICAgLi4uSW1wZXJhdGl2ZU1ldGhvZHMsXG4gIHx9Pixcbj4gJlxuICBUZXh0SW5wdXRDb21wb25lbnRTdGF0aWNzKTtcbiJdfQ==