e9c46e9a91c7dfcac52068861c0142ad
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useLayout;

var React = _interopRequireWildcard(require("react"));

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function useLayout() {
  var _React$useState = React.useState({
    height: 0,
    width: 0,
    measured: false
  }),
      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),
      layout = _React$useState2[0],
      setLayout = _React$useState2[1];

  var onLayout = React.useCallback(function (e) {
    var _e$nativeEvent$layout = e.nativeEvent.layout,
        height = _e$nativeEvent$layout.height,
        width = _e$nativeEvent$layout.width;

    if (height === layout.height && width === layout.width) {
      return;
    }

    setLayout({
      height: height,
      width: width,
      measured: true
    });
  }, [layout.height, layout.width]);
  return [layout, onLayout];
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR2UsU0FBU0EsU0FBVCxHQUFxQjtBQUNsQyx3QkFBNEJDLEtBQUssQ0FBQ0MsUUFBTkQsQ0FJekI7QUFBRUUsVUFBTSxFQUFFLENBQVY7QUFBYUMsU0FBSyxFQUFFLENBQXBCO0FBQXVCQyxZQUFRLEVBQUU7QUFBakMsR0FKeUJKLENBQTVCO0FBQUE7QUFBQSxNQUFPSyxNQUFQO0FBQUEsTUFBZUMsU0FBZjs7QUFNQSxNQUFNQyxRQUFRLEdBQUdQLEtBQUssQ0FBQ1EsV0FBTlIsQ0FDZFMsV0FBRCxFQUEwQjtBQUN4QixnQ0FBMEJBLENBQUMsQ0FBQ0MsV0FBRkQsQ0FBY0osTUFBeEM7QUFBQSxRQUFRSCxNQUFSLHlCQUFRQSxNQUFSO0FBQUEsUUFBZ0JDLEtBQWhCLHlCQUFnQkEsS0FBaEI7O0FBRUEsUUFBSUQsTUFBTSxLQUFLRyxNQUFNLENBQUNILE1BQWxCQSxJQUE0QkMsS0FBSyxLQUFLRSxNQUFNLENBQUNGLEtBQWpELEVBQXdEO0FBQ3REO0FBQ0Q7O0FBRURHLGFBQVMsQ0FBQztBQUNSSixZQURRLEVBQ1JBLE1BRFE7QUFFUkMsV0FGUSxFQUVSQSxLQUZRO0FBR1JDLGNBQVEsRUFBRTtBQUhGLEtBQUQsQ0FBVEU7QUFSYSxLQWNmLENBQUNELE1BQU0sQ0FBQ0gsTUFBUixFQUFnQkcsTUFBTSxDQUFDRixLQUF2QixDQWRlSCxDQUFqQjtBQWlCQSxTQUFPLENBQUNLLE1BQUQsRUFBU0UsUUFBVCxDQUFQO0FBQ0QiLCJuYW1lcyI6WyJ1c2VMYXlvdXQiLCJSZWFjdCIsInVzZVN0YXRlIiwiaGVpZ2h0Iiwid2lkdGgiLCJtZWFzdXJlZCIsImxheW91dCIsInNldExheW91dCIsIm9uTGF5b3V0IiwidXNlQ2FsbGJhY2siLCJlIiwibmF0aXZlRXZlbnQiXSwic291cmNlcyI6WyJ1c2VMYXlvdXQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHsgTGF5b3V0Q2hhbmdlRXZlbnQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VMYXlvdXQoKSB7XG4gIGNvbnN0IFtsYXlvdXQsIHNldExheW91dF0gPSBSZWFjdC51c2VTdGF0ZTx7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBtZWFzdXJlZDogYm9vbGVhbjtcbiAgfT4oeyBoZWlnaHQ6IDAsIHdpZHRoOiAwLCBtZWFzdXJlZDogZmFsc2UgfSk7XG5cbiAgY29uc3Qgb25MYXlvdXQgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoZTogTGF5b3V0Q2hhbmdlRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHsgaGVpZ2h0LCB3aWR0aCB9ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG5cbiAgICAgIGlmIChoZWlnaHQgPT09IGxheW91dC5oZWlnaHQgJiYgd2lkdGggPT09IGxheW91dC53aWR0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNldExheW91dCh7XG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIG1lYXN1cmVkOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbbGF5b3V0LmhlaWdodCwgbGF5b3V0LndpZHRoXVxuICApO1xuXG4gIHJldHVybiBbbGF5b3V0LCBvbkxheW91dF0gYXMgY29uc3Q7XG59XG4iXX0=