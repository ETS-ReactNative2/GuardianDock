8b5a426379d3b25c15416330c876a7a0
'use strict';

var Promise = require("./core.js");

module.exports = Promise;

Promise.prototype.finally = function (f) {
  return this.then(function (value) {
    return Promise.resolve(f()).then(function () {
      return value;
    });
  }, function (err) {
    return Promise.resolve(f()).then(function () {
      throw err;
    });
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbmFsbHkuanMiXSwibmFtZXMiOlsiUHJvbWlzZSIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwicHJvdG90eXBlIiwiZmluYWxseSIsImYiLCJ0aGVuIiwidmFsdWUiLCJyZXNvbHZlIiwiZXJyIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sYUFBckI7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkgsT0FBakI7O0FBQ0FBLE9BQU8sQ0FBQ0ksU0FBUixDQUFrQkMsT0FBbEIsR0FBNEIsVUFBVUMsQ0FBVixFQUFhO0FBQ3ZDLFNBQU8sS0FBS0MsSUFBTCxDQUFVLFVBQVVDLEtBQVYsRUFBaUI7QUFDaEMsV0FBT1IsT0FBTyxDQUFDUyxPQUFSLENBQWdCSCxDQUFDLEVBQWpCLEVBQXFCQyxJQUFyQixDQUEwQixZQUFZO0FBQzNDLGFBQU9DLEtBQVA7QUFDRCxLQUZNLENBQVA7QUFHRCxHQUpNLEVBSUosVUFBVUUsR0FBVixFQUFlO0FBQ2hCLFdBQU9WLE9BQU8sQ0FBQ1MsT0FBUixDQUFnQkgsQ0FBQyxFQUFqQixFQUFxQkMsSUFBckIsQ0FBMEIsWUFBWTtBQUMzQyxZQUFNRyxHQUFOO0FBQ0QsS0FGTSxDQUFQO0FBR0QsR0FSTSxDQUFQO0FBU0QsQ0FWRCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIFByb21pc2UgPSByZXF1aXJlKCcuL2NvcmUuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQcm9taXNlO1xuUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseSA9IGZ1bmN0aW9uIChmKSB7XG4gIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmKCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmKCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9KTtcbn07XG4iXX0=