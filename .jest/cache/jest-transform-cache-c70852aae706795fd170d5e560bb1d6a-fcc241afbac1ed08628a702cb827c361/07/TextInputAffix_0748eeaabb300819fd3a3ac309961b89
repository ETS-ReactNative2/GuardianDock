ee2d3442101e00638de223c5d2635e46
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault2(require("@babel/runtime/helpers/defineProperty"));

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AffixAdornment = exports.TextInputAffix = exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _color = _interopRequireDefault(require("color"));

var _reactNative = require("react-native");

var _theming = require("../../../core/theming");

var _enums = require("./enums");

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

var AFFIX_OFFSET = 12;

var AffixContext = _react.default.createContext({
  textStyle: {
    fontFamily: '',
    color: ''
  },
  topPosition: null,
  side: _enums.AdornmentSide.Left
});

var AffixAdornment = function AffixAdornment(_ref) {
  var affix = _ref.affix,
      side = _ref.side,
      textStyle = _ref.textStyle,
      topPosition = _ref.topPosition,
      onLayout = _ref.onLayout,
      visible = _ref.visible,
      paddingHorizontal = _ref.paddingHorizontal;
  return _react.default.createElement(AffixContext.Provider, {
    value: {
      side: side,
      textStyle: textStyle,
      topPosition: topPosition,
      onLayout: onLayout,
      visible: visible,
      paddingHorizontal: paddingHorizontal
    }
  }, affix);
};

exports.AffixAdornment = AffixAdornment;

var TextInputAffix = function TextInputAffix(_ref2) {
  var text = _ref2.text,
      labelStyle = _ref2.textStyle,
      theme = _ref2.theme;

  var _react$default$useCon = _react.default.useContext(AffixContext),
      textStyle = _react$default$useCon.textStyle,
      onLayout = _react$default$useCon.onLayout,
      topPosition = _react$default$useCon.topPosition,
      side = _react$default$useCon.side,
      visible = _react$default$useCon.visible,
      paddingHorizontal = _react$default$useCon.paddingHorizontal;

  var textColor = (0, _color.default)(theme.colors.text).alpha(theme.dark ? 0.7 : 0.54).rgb().string();
  var offset = typeof paddingHorizontal === 'number' ? paddingHorizontal : AFFIX_OFFSET;
  var style = (0, _defineProperty2.default)({
    top: topPosition
  }, side, offset);
  return _react.default.createElement(_reactNative.Animated.View, {
    style: [styles.container, style, {
      opacity: (visible === null || visible === void 0 ? void 0 : visible.interpolate({
        inputRange: [0, 1],
        outputRange: [1, 0]
      })) || 1
    }],
    onLayout: onLayout
  }, _react.default.createElement(_reactNative.Text, {
    style: [{
      color: textColor
    }, textStyle, labelStyle]
  }, text));
};

exports.TextInputAffix = TextInputAffix;
TextInputAffix.displayName = 'TextInput.Affix';

var styles = _reactNative.StyleSheet.create({
  container: {
    position: 'absolute',
    justifyContent: 'center',
    alignItems: 'center'
  }
});

var _default = (0, _theming.withTheme)(TextInputAffix);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkE7O0FBRUEsSUFBTWdCLE1BQU0sR0FBR08sd0JBQVdDLE1BQVhELENBQWtCO0FBQy9CTixXQUFTLEVBQUU7QUFDVFEsWUFBUSxFQUFFLFVBREQ7QUFFVEMsa0JBQWMsRUFBRSxRQUZQO0FBR1RDLGNBQVUsRUFBRTtBQUhIO0FBRG9CLENBQWxCSixDQUFmOztlQVFlLHdCQUFVdkIsY0FBViIsIm5hbWVzIjpbIkFGRklYX09GRlNFVCIsIkFmZml4Q29udGV4dCIsIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInRleHRTdHlsZSIsImZvbnRGYW1pbHkiLCJjb2xvciIsInRvcFBvc2l0aW9uIiwic2lkZSIsIkFkb3JubWVudFNpZGUiLCJMZWZ0IiwiQWZmaXhBZG9ybm1lbnQiLCJhZmZpeCIsIm9uTGF5b3V0IiwidmlzaWJsZSIsInBhZGRpbmdIb3Jpem9udGFsIiwiX3JlYWN0IiwiUHJvdmlkZXIiLCJ2YWx1ZSIsIlRleHRJbnB1dEFmZml4IiwidGV4dCIsImxhYmVsU3R5bGUiLCJ0aGVtZSIsInVzZUNvbnRleHQiLCJ0ZXh0Q29sb3IiLCJjb2xvcnMiLCJhbHBoYSIsImRhcmsiLCJyZ2IiLCJzdHJpbmciLCJvZmZzZXQiLCJzdHlsZSIsInRvcCIsIl9yZWFjdE5hdGl2ZSIsIlZpZXciLCJzdHlsZXMiLCJjb250YWluZXIiLCJvcGFjaXR5IiwiaW50ZXJwb2xhdGUiLCJpbnB1dFJhbmdlIiwib3V0cHV0UmFuZ2UiLCJkaXNwbGF5TmFtZSIsIlN0eWxlU2hlZXQiLCJjcmVhdGUiLCJwb3NpdGlvbiIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyJdLCJzb3VyY2VzIjpbIlRleHRJbnB1dEFmZml4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNvbG9yIGZyb20gJ2NvbG9yJztcbmltcG9ydCB7XG4gIFRleHQsXG4gIFN0eWxlU2hlZXQsXG4gIFN0eWxlUHJvcCxcbiAgVGV4dFN0eWxlLFxuICBMYXlvdXRDaGFuZ2VFdmVudCxcbiAgQW5pbWF0ZWQsXG4gIFZpZXdTdHlsZSxcbn0gZnJvbSAncmVhY3QtbmF0aXZlJztcblxuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnLi4vLi4vLi4vY29yZS90aGVtaW5nJztcbmltcG9ydCB7IEFkb3JubWVudFNpZGUgfSBmcm9tICcuL2VudW1zJztcblxuY29uc3QgQUZGSVhfT0ZGU0VUID0gMTI7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIC8qKlxuICAgKiBUZXh0IHRvIHNob3cuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG4gIG9uTGF5b3V0PzogKGV2ZW50OiBMYXlvdXRDaGFuZ2VFdmVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIFN0eWxlIHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBUZXh0IGVsZW1lbnQuXG4gICAqL1xuICB0ZXh0U3R5bGU/OiBTdHlsZVByb3A8VGV4dFN0eWxlPjtcbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKi9cbiAgdGhlbWU6IFJlYWN0TmF0aXZlUGFwZXIuVGhlbWU7XG59O1xuXG50eXBlIENvbnRleHRTdGF0ZSA9IHtcbiAgdG9wUG9zaXRpb246IG51bWJlciB8IG51bGw7XG4gIG9uTGF5b3V0PzogKGV2ZW50OiBMYXlvdXRDaGFuZ2VFdmVudCkgPT4gdm9pZDtcbiAgdmlzaWJsZT86IEFuaW1hdGVkLlZhbHVlO1xuICB0ZXh0U3R5bGU/OiBTdHlsZVByb3A8VGV4dFN0eWxlPjtcbiAgc2lkZTogQWRvcm5tZW50U2lkZTtcbiAgcGFkZGluZ0hvcml6b250YWw/OiBudW1iZXIgfCBzdHJpbmc7XG59O1xuXG5jb25zdCBBZmZpeENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PENvbnRleHRTdGF0ZT4oe1xuICB0ZXh0U3R5bGU6IHsgZm9udEZhbWlseTogJycsIGNvbG9yOiAnJyB9LFxuICB0b3BQb3NpdGlvbjogbnVsbCxcbiAgc2lkZTogQWRvcm5tZW50U2lkZS5MZWZ0LFxufSk7XG5cbmNvbnN0IEFmZml4QWRvcm5tZW50OiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxcbiAge1xuICAgIGFmZml4OiBSZWFjdC5SZWFjdE5vZGU7XG4gICAgdGVzdElEOiBzdHJpbmc7XG4gIH0gJiBDb250ZXh0U3RhdGVcbj4gPSAoe1xuICBhZmZpeCxcbiAgc2lkZSxcbiAgdGV4dFN0eWxlLFxuICB0b3BQb3NpdGlvbixcbiAgb25MYXlvdXQsXG4gIHZpc2libGUsXG4gIHBhZGRpbmdIb3Jpem9udGFsLFxufSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxBZmZpeENvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIHNpZGUsXG4gICAgICAgIHRleHRTdHlsZSxcbiAgICAgICAgdG9wUG9zaXRpb24sXG4gICAgICAgIG9uTGF5b3V0LFxuICAgICAgICB2aXNpYmxlLFxuICAgICAgICBwYWRkaW5nSG9yaXpvbnRhbCxcbiAgICAgIH19XG4gICAgPlxuICAgICAge2FmZml4fVxuICAgIDwvQWZmaXhDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcblxuLyoqXG4gKiBBIGNvbXBvbmVudCB0byByZW5kZXIgYSBsZWFkaW5nIC8gdHJhaWxpbmcgdGV4dCBpbiB0aGUgVGV4dElucHV0XG4gKlxuICogPGRpdiBjbGFzcz1cInNjcmVlbnNob3RzXCI+XG4gKiAgIDxmaWd1cmU+XG4gKiAgICAgPGltZyBjbGFzcz1cIm1lZGl1bVwiIHNyYz1cInNjcmVlbnNob3RzL3RleHRpbnB1dC1vdXRsaW5lLmFmZml4LnBuZ1wiIC8+XG4gKiAgIDwvZmlndXJlPlxuICogPC9kaXY+XG4gKlxuICogIyMgVXNhZ2VcbiAqIGBgYGpzXG4gKiBpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG4gKiBpbXBvcnQgeyBUZXh0SW5wdXQgfSBmcm9tICdyZWFjdC1uYXRpdmUtcGFwZXInO1xuICpcbiAqIGNvbnN0IE15Q29tcG9uZW50ID0gKCkgPT4ge1xuICogICBjb25zdCBbdGV4dCwgc2V0VGV4dF0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxUZXh0SW5wdXRcbiAqICAgICAgIG1vZGU9XCJvdXRsaW5lZFwiXG4gKiAgICAgICBsYWJlbD1cIk91dGxpbmVkIGlucHV0XCJcbiAqICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSBzb21ldGhpbmdcIlxuICogICAgICAgcmlnaHQ9ezxUZXh0SW5wdXQuQWZmaXggdGV4dD1cIi8xMDBcIiAvPn1cbiAqICAgICAvPlxuICogICApO1xuICogfTtcbiAqXG4gKiBleHBvcnQgZGVmYXVsdCBNeUNvbXBvbmVudDtcbiAqIGBgYFxuICovXG5cbmNvbnN0IFRleHRJbnB1dEFmZml4ID0gKHsgdGV4dCwgdGV4dFN0eWxlOiBsYWJlbFN0eWxlLCB0aGVtZSB9OiBQcm9wcykgPT4ge1xuICBjb25zdCB7XG4gICAgdGV4dFN0eWxlLFxuICAgIG9uTGF5b3V0LFxuICAgIHRvcFBvc2l0aW9uLFxuICAgIHNpZGUsXG4gICAgdmlzaWJsZSxcbiAgICBwYWRkaW5nSG9yaXpvbnRhbCxcbiAgfSA9IFJlYWN0LnVzZUNvbnRleHQoQWZmaXhDb250ZXh0KTtcbiAgY29uc3QgdGV4dENvbG9yID0gY29sb3IodGhlbWUuY29sb3JzLnRleHQpXG4gICAgLmFscGhhKHRoZW1lLmRhcmsgPyAwLjcgOiAwLjU0KVxuICAgIC5yZ2IoKVxuICAgIC5zdHJpbmcoKTtcblxuICBjb25zdCBvZmZzZXQgPVxuICAgIHR5cGVvZiBwYWRkaW5nSG9yaXpvbnRhbCA9PT0gJ251bWJlcicgPyBwYWRkaW5nSG9yaXpvbnRhbCA6IEFGRklYX09GRlNFVDtcblxuICBjb25zdCBzdHlsZSA9IHtcbiAgICB0b3A6IHRvcFBvc2l0aW9uLFxuICAgIFtzaWRlXTogb2Zmc2V0LFxuICB9IGFzIFZpZXdTdHlsZTtcblxuICByZXR1cm4gKFxuICAgIDxBbmltYXRlZC5WaWV3XG4gICAgICBzdHlsZT17W1xuICAgICAgICBzdHlsZXMuY29udGFpbmVyLFxuICAgICAgICBzdHlsZSxcbiAgICAgICAge1xuICAgICAgICAgIG9wYWNpdHk6XG4gICAgICAgICAgICB2aXNpYmxlPy5pbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICAgICAgb3V0cHV0UmFuZ2U6IFsxLCAwXSxcbiAgICAgICAgICAgIH0pIHx8IDEsXG4gICAgICAgIH0sXG4gICAgICBdfVxuICAgICAgb25MYXlvdXQ9e29uTGF5b3V0fVxuICAgID5cbiAgICAgIDxUZXh0IHN0eWxlPXtbeyBjb2xvcjogdGV4dENvbG9yIH0sIHRleHRTdHlsZSwgbGFiZWxTdHlsZV19Pnt0ZXh0fTwvVGV4dD5cbiAgICA8L0FuaW1hdGVkLlZpZXc+XG4gICk7XG59O1xuVGV4dElucHV0QWZmaXguZGlzcGxheU5hbWUgPSAnVGV4dElucHV0LkFmZml4JztcblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBjb250YWluZXI6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgd2l0aFRoZW1lKFRleHRJbnB1dEFmZml4KTtcblxuLy8gQGNvbXBvbmVudC1kb2NzIGlnbm9yZS1uZXh0LWxpbmVcbmV4cG9ydCB7IFRleHRJbnB1dEFmZml4LCBBZmZpeEFkb3JubWVudCB9O1xuIl19