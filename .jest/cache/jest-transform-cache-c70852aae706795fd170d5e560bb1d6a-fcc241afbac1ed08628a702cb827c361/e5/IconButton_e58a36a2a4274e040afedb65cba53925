124fcf1376243c351020f6ead0829e26
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");

var _objectWithoutProperties2 = _interopRequireDefault2(require("@babel/runtime/helpers/objectWithoutProperties"));

var _excluded = ["icon", "color", "size", "accessibilityLabel", "disabled", "onPress", "animated", "theme", "style"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _color = _interopRequireDefault(require("color"));

var _TouchableRipple = _interopRequireDefault(require("./TouchableRipple/TouchableRipple"));

var _Icon = _interopRequireDefault(require("./Icon"));

var _CrossFadeIcon = _interopRequireDefault(require("./CrossFadeIcon"));

var _theming = require("../core/theming");

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

var IconButton = function IconButton(_ref) {
  var icon = _ref.icon,
      customColor = _ref.color,
      _ref$size = _ref.size,
      size = _ref$size === void 0 ? 24 : _ref$size,
      accessibilityLabel = _ref.accessibilityLabel,
      disabled = _ref.disabled,
      onPress = _ref.onPress,
      _ref$animated = _ref.animated,
      animated = _ref$animated === void 0 ? false : _ref$animated,
      theme = _ref.theme,
      style = _ref.style,
      rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var iconColor = typeof customColor !== 'undefined' ? customColor : theme.colors.text;
  var rippleColor = (0, _color.default)(iconColor).alpha(0.32).rgb().string();
  var IconComponent = animated ? _CrossFadeIcon.default : _Icon.default;
  var buttonSize = size * 1.5;
  return React.createElement(_TouchableRipple.default, _extends({
    borderless: true,
    centered: true,
    onPress: onPress,
    rippleColor: rippleColor,
    style: [styles.container, {
      width: buttonSize,
      height: buttonSize,
      borderRadius: buttonSize / 2
    }, disabled && styles.disabled, style],
    accessibilityLabel: accessibilityLabel,
    accessibilityTraits: disabled ? ['button', 'disabled'] : 'button',
    accessibilityComponentType: "button",
    accessibilityRole: "button",
    accessibilityState: {
      disabled: disabled
    },
    disabled: disabled,
    hitSlop: _TouchableRipple.default.supported ? {
      top: 10,
      left: 10,
      bottom: 10,
      right: 10
    } : {
      top: 6,
      left: 6,
      bottom: 6,
      right: 6
    }
  }, rest), React.createElement(_reactNative.View, null, React.createElement(IconComponent, {
    color: iconColor,
    source: icon,
    size: size
  })));
};

var styles = _reactNative.StyleSheet.create({
  container: {
    alignItems: 'center',
    justifyContent: 'center',
    overflow: 'hidden',
    margin: 6
  },
  disabled: {
    opacity: 0.32
  }
});

var _default = (0, _theming.withTheme)(IconButton);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVEsRUFBRTtBQUNSNkMsV0FBTyxFQUFFO0FBREQ7QUFQcUIsQ0FBbEJOLENBQWY7O2VBWWUsd0JBQVU3QyxVQUFWIiwibmFtZXMiOlsiSWNvbkJ1dHRvbiIsImljb24iLCJjdXN0b21Db2xvciIsImNvbG9yIiwic2l6ZSIsImFjY2Vzc2liaWxpdHlMYWJlbCIsImRpc2FibGVkIiwib25QcmVzcyIsImFuaW1hdGVkIiwidGhlbWUiLCJzdHlsZSIsInJlc3QiLCJpY29uQ29sb3IiLCJjb2xvcnMiLCJ0ZXh0IiwicmlwcGxlQ29sb3IiLCJhbHBoYSIsInJnYiIsInN0cmluZyIsIkljb25Db21wb25lbnQiLCJDcm9zc0ZhZGVJY29uIiwiSWNvbiIsImJ1dHRvblNpemUiLCJSZWFjdCIsIl9Ub3VjaGFibGVSaXBwbGUiLCJib3JkZXJsZXNzIiwiY2VudGVyZWQiLCJzdHlsZXMiLCJjb250YWluZXIiLCJ3aWR0aCIsImhlaWdodCIsImJvcmRlclJhZGl1cyIsImFjY2Vzc2liaWxpdHlUcmFpdHMiLCJhY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZSIsImFjY2Vzc2liaWxpdHlSb2xlIiwiYWNjZXNzaWJpbGl0eVN0YXRlIiwiaGl0U2xvcCIsIlRvdWNoYWJsZVJpcHBsZSIsInN1cHBvcnRlZCIsInRvcCIsImxlZnQiLCJib3R0b20iLCJyaWdodCIsIl9yZWFjdE5hdGl2ZSIsInNvdXJjZSIsIlN0eWxlU2hlZXQiLCJjcmVhdGUiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJvdmVyZmxvdyIsIm1hcmdpbiIsIm9wYWNpdHkiXSwic291cmNlcyI6WyJJY29uQnV0dG9uLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBWaWV3LFxuICBWaWV3U3R5bGUsXG4gIFN0eWxlU2hlZXQsXG4gIFN0eWxlUHJvcCxcbiAgR2VzdHVyZVJlc3BvbmRlckV2ZW50LFxuICBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2ssXG59IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgY29sb3IgZnJvbSAnY29sb3InO1xuXG5pbXBvcnQgVG91Y2hhYmxlUmlwcGxlIGZyb20gJy4vVG91Y2hhYmxlUmlwcGxlL1RvdWNoYWJsZVJpcHBsZSc7XG5pbXBvcnQgSWNvbiwgeyBJY29uU291cmNlIH0gZnJvbSAnLi9JY29uJztcbmltcG9ydCBDcm9zc0ZhZGVJY29uIGZyb20gJy4vQ3Jvc3NGYWRlSWNvbic7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICcuLi9jb3JlL3RoZW1pbmcnO1xuXG5pbXBvcnQgdHlwZSB7ICRSZW1vdmVDaGlsZHJlbiB9IGZyb20gJy4uL3R5cGVzJztcblxudHlwZSBQcm9wcyA9ICRSZW1vdmVDaGlsZHJlbjx0eXBlb2YgVG91Y2hhYmxlUmlwcGxlPiAmIHtcbiAgLyoqXG4gICAqIEljb24gdG8gZGlzcGxheS5cbiAgICovXG4gIGljb246IEljb25Tb3VyY2U7XG4gIC8qKlxuICAgKiBDb2xvciBvZiB0aGUgaWNvbi5cbiAgICovXG4gIGNvbG9yPzogc3RyaW5nO1xuICAvKipcbiAgICogU2l6ZSBvZiB0aGUgaWNvbi5cbiAgICovXG4gIHNpemU/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBidXR0b24gaXMgZGlzYWJsZWQuIEEgZGlzYWJsZWQgYnV0dG9uIGlzIGdyZXllZCBvdXQgYW5kIGBvblByZXNzYCBpcyBub3QgY2FsbGVkIG9uIHRvdWNoLlxuICAgKi9cbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICogV2hldGhlciBhbiBpY29uIGNoYW5nZSBpcyBhbmltYXRlZC5cbiAgICovXG4gIGFuaW1hdGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEFjY2Vzc2liaWxpdHkgbGFiZWwgZm9yIHRoZSBidXR0b24uIFRoaXMgaXMgcmVhZCBieSB0aGUgc2NyZWVuIHJlYWRlciB3aGVuIHRoZSB1c2VyIHRhcHMgdGhlIGJ1dHRvbi5cbiAgICovXG4gIGFjY2Vzc2liaWxpdHlMYWJlbD86IHN0cmluZztcbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRvIGV4ZWN1dGUgb24gcHJlc3MuXG4gICAqL1xuICBvblByZXNzPzogKGU6IEdlc3R1cmVSZXNwb25kZXJFdmVudCkgPT4gdm9pZDtcbiAgc3R5bGU/OiBTdHlsZVByb3A8Vmlld1N0eWxlPjtcbiAgcmVmPzogUmVhY3QuUmVmT2JqZWN0PFRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjaz47XG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIHRoZW1lOiBSZWFjdE5hdGl2ZVBhcGVyLlRoZW1lO1xufTtcblxuLyoqXG4gKiBBbiBpY29uIGJ1dHRvbiBpcyBhIGJ1dHRvbiB3aGljaCBkaXNwbGF5cyBvbmx5IGFuIGljb24gd2l0aG91dCBhIGxhYmVsLlxuICogQnkgZGVmYXVsdCBidXR0b24gaGFzIDE1MCUgc2l6ZSBvZiB0aGUgaWNvbi5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwic2NyZWVuc2hvdHNcIj5cbiAqICAgPGZpZ3VyZT5cbiAqICAgICA8aW1nIHNyYz1cInNjcmVlbnNob3RzL2ljb24tYnV0dG9uLTEucG5nXCIgLz5cbiAqICAgICA8ZmlnY2FwdGlvbj5JY29uIGJ1dHRvbjwvZmlnY2FwdGlvbj5cbiAqICAgPC9maWd1cmU+XG4gKiAgIDxmaWd1cmU+XG4gKiAgICAgPGltZyBzcmM9XCJzY3JlZW5zaG90cy9pY29uLWJ1dHRvbi0yLnBuZ1wiIC8+XG4gKiAgICAgPGZpZ2NhcHRpb24+UHJlc3NlZCBpY29uIGJ1dHRvbjwvZmlnY2FwdGlvbj5cbiAqICAgPC9maWd1cmU+XG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyBVc2FnZVxuICogYGBganNcbiAqIGltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbiAqIGltcG9ydCB7IEljb25CdXR0b24sIENvbG9ycyB9IGZyb20gJ3JlYWN0LW5hdGl2ZS1wYXBlcic7XG4gKlxuICogY29uc3QgTXlDb21wb25lbnQgPSAoKSA9PiAoXG4gKiAgIDxJY29uQnV0dG9uXG4gKiAgICAgaWNvbj1cImNhbWVyYVwiXG4gKiAgICAgY29sb3I9e0NvbG9ycy5yZWQ1MDB9XG4gKiAgICAgc2l6ZT17MjB9XG4gKiAgICAgb25QcmVzcz17KCkgPT4gY29uc29sZS5sb2coJ1ByZXNzZWQnKX1cbiAqICAgLz5cbiAqICk7XG4gKlxuICogZXhwb3J0IGRlZmF1bHQgTXlDb21wb25lbnQ7XG4gKiBgYGBcbiAqXG4gKiBAZXh0ZW5kcyBUb3VjaGFibGVSaXBwbGUgcHJvcHMgaHR0cHM6Ly9jYWxsc3RhY2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS1wYXBlci90b3VjaGFibGUtcmlwcGxlLmh0bWxcbiAqL1xuY29uc3QgSWNvbkJ1dHRvbiA9ICh7XG4gIGljb24sXG4gIGNvbG9yOiBjdXN0b21Db2xvcixcbiAgc2l6ZSA9IDI0LFxuICBhY2Nlc3NpYmlsaXR5TGFiZWwsXG4gIGRpc2FibGVkLFxuICBvblByZXNzLFxuICBhbmltYXRlZCA9IGZhbHNlLFxuICB0aGVtZSxcbiAgc3R5bGUsXG4gIC4uLnJlc3Rcbn06IFByb3BzKSA9PiB7XG4gIGNvbnN0IGljb25Db2xvciA9XG4gICAgdHlwZW9mIGN1c3RvbUNvbG9yICE9PSAndW5kZWZpbmVkJyA/IGN1c3RvbUNvbG9yIDogdGhlbWUuY29sb3JzLnRleHQ7XG4gIGNvbnN0IHJpcHBsZUNvbG9yID0gY29sb3IoaWNvbkNvbG9yKS5hbHBoYSgwLjMyKS5yZ2IoKS5zdHJpbmcoKTtcbiAgY29uc3QgSWNvbkNvbXBvbmVudCA9IGFuaW1hdGVkID8gQ3Jvc3NGYWRlSWNvbiA6IEljb247XG4gIGNvbnN0IGJ1dHRvblNpemUgPSBzaXplICogMS41O1xuICByZXR1cm4gKFxuICAgIDxUb3VjaGFibGVSaXBwbGVcbiAgICAgIGJvcmRlcmxlc3NcbiAgICAgIGNlbnRlcmVkXG4gICAgICBvblByZXNzPXtvblByZXNzfVxuICAgICAgcmlwcGxlQ29sb3I9e3JpcHBsZUNvbG9yfVxuICAgICAgc3R5bGU9e1tcbiAgICAgICAgc3R5bGVzLmNvbnRhaW5lcixcbiAgICAgICAgeyB3aWR0aDogYnV0dG9uU2l6ZSwgaGVpZ2h0OiBidXR0b25TaXplLCBib3JkZXJSYWRpdXM6IGJ1dHRvblNpemUgLyAyIH0sXG4gICAgICAgIGRpc2FibGVkICYmIHN0eWxlcy5kaXNhYmxlZCxcbiAgICAgICAgc3R5bGUsXG4gICAgICBdfVxuICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXthY2Nlc3NpYmlsaXR5TGFiZWx9XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFdlIGtlZXAgb2xkIGExMXkgcHJvcHMgZm9yIGJhY2t3YXJkcyBjb21wYXQgd2l0aCBvbGQgUk4gdmVyc2lvbnNcbiAgICAgIGFjY2Vzc2liaWxpdHlUcmFpdHM9e2Rpc2FibGVkID8gWydidXR0b24nLCAnZGlzYWJsZWQnXSA6ICdidXR0b24nfVxuICAgICAgYWNjZXNzaWJpbGl0eUNvbXBvbmVudFR5cGU9XCJidXR0b25cIlxuICAgICAgYWNjZXNzaWJpbGl0eVJvbGU9XCJidXR0b25cIlxuICAgICAgYWNjZXNzaWJpbGl0eVN0YXRlPXt7IGRpc2FibGVkIH19XG4gICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICBoaXRTbG9wPXtcbiAgICAgICAgVG91Y2hhYmxlUmlwcGxlLnN1cHBvcnRlZFxuICAgICAgICAgID8geyB0b3A6IDEwLCBsZWZ0OiAxMCwgYm90dG9tOiAxMCwgcmlnaHQ6IDEwIH1cbiAgICAgICAgICA6IHsgdG9wOiA2LCBsZWZ0OiA2LCBib3R0b206IDYsIHJpZ2h0OiA2IH1cbiAgICAgIH1cbiAgICAgIHsuLi5yZXN0fVxuICAgID5cbiAgICAgIDxWaWV3PlxuICAgICAgICA8SWNvbkNvbXBvbmVudCBjb2xvcj17aWNvbkNvbG9yfSBzb3VyY2U9e2ljb259IHNpemU9e3NpemV9IC8+XG4gICAgICA8L1ZpZXc+XG4gICAgPC9Ub3VjaGFibGVSaXBwbGU+XG4gICk7XG59O1xuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGNvbnRhaW5lcjoge1xuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgbWFyZ2luOiA2LFxuICB9LFxuICBkaXNhYmxlZDoge1xuICAgIG9wYWNpdHk6IDAuMzIsXG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgd2l0aFRoZW1lKEljb25CdXR0b24pO1xuIl19