691a099681497d6215be3668fcf0555a
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _Modal = _interopRequireDefault(require("../Modal"));

var _DialogContent = _interopRequireDefault(require("./DialogContent"));

var _DialogActions = _interopRequireDefault(require("./DialogActions"));

var _DialogTitle2 = _interopRequireDefault(require("./DialogTitle"));

var _DialogScrollArea = _interopRequireDefault(require("./DialogScrollArea"));

var _theming = require("../../core/theming");

var _overlay = _interopRequireDefault(require("../../styles/overlay"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

var DIALOG_ELEVATION = 24;

var Dialog = function Dialog(_ref) {
  var children = _ref.children,
      _ref$dismissable = _ref.dismissable,
      dismissable = _ref$dismissable === void 0 ? true : _ref$dismissable,
      onDismiss = _ref.onDismiss,
      _ref$visible = _ref.visible,
      visible = _ref$visible === void 0 ? false : _ref$visible,
      style = _ref.style,
      theme = _ref.theme;
  return React.createElement(_Modal.default, {
    dismissable: dismissable,
    onDismiss: onDismiss,
    visible: visible,
    contentContainerStyle: [{
      borderRadius: theme.roundness,
      backgroundColor: theme.dark && theme.mode === 'adaptive' ? (0, _overlay.default)(DIALOG_ELEVATION, theme.colors.surface) : theme.colors.surface
    }, styles.container, style]
  }, React.Children.toArray(children).filter(function (child) {
    return child != null && typeof child !== 'boolean';
  }).map(function (child, i) {
    if (i === 0 && React.isValidElement(child) && child.type === _DialogContent.default) {
      return React.cloneElement(child, {
        style: [{
          paddingTop: 24
        }, child.props.style]
      });
    }

    return child;
  }));
};

Dialog.Content = _DialogContent.default;
Dialog.Actions = _DialogActions.default;
Dialog.Title = _DialogTitle2.default;
Dialog.ScrollArea = _DialogScrollArea.default;

var styles = _reactNative.StyleSheet.create({
  container: {
    marginVertical: _reactNative.Platform.OS === 'android' ? 44 : 0,
    marginHorizontal: 26,
    elevation: DIALOG_ELEVATION,
    justifyContent: 'flex-start'
  }
});

var _default = (0, _theming.withTheme)(Dialog);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEwQkEsSUFBTUEsZ0JBQXdCLEdBQUcsRUFBakM7O0FBK0NBLElBQU1DLE1BQU0sR0FBRyxTQUFUQSxNQUFTO0FBQUEsTUFDYkMsUUFEYSxRQUNiQSxRQURhO0FBQUEsOEJBRWJDLFdBRmE7QUFBQSxNQUViQSxXQUZhLGlDQUVDLElBRkQ7QUFBQSxNQUdiQyxTQUhhLFFBR2JBLFNBSGE7QUFBQSwwQkFJYkMsT0FKYTtBQUFBLE1BSWJBLE9BSmEsNkJBSUgsS0FKRztBQUFBLE1BS2JDLEtBTGEsUUFLYkEsS0FMYTtBQUFBLE1BTWJDLEtBTmEsUUFNYkEsS0FOYTtBQUFBLFNBUWJDLG9CQUFDQyxjQUFEO0FBQ0VOLGVBQVcsRUFBRUEsV0FEZjtBQUVFQyxhQUFTLEVBQUVBLFNBRmI7QUFHRUMsV0FBTyxFQUFFQSxPQUhYO0FBSUVLLHlCQUFxQixFQUFFLENBQ3JCO0FBQ0VDLGtCQUFZLEVBQUVKLEtBQUssQ0FBQ0ssU0FEdEI7QUFFRUMscUJBQWUsRUFDYk4sS0FBSyxDQUFDTyxJQUFOUCxJQUFjQSxLQUFLLENBQUNRLElBQU5SLEtBQWUsVUFBN0JBLEdBQ0ksc0JBQVFQLGdCQUFSLEVBQTBCTyxLQUFLLENBQUNTLE1BQU5ULENBQWFVLE9BQXZDLENBREpWLEdBRUlBLEtBQUssQ0FBQ1MsTUFBTlQsQ0FBYVU7QUFMckIsS0FEcUIsRUFRckJDLE1BQU0sQ0FBQ0MsU0FSYyxFQVNyQmIsS0FUcUI7QUFKekIsS0FnQkdFLEtBQUssQ0FBQ1ksUUFBTlosQ0FBZWEsT0FBZmIsQ0FBdUJOLFFBQXZCTSxFQUNFYyxNQURGZCxDQUNVZSxlQUFEO0FBQUEsV0FBV0EsS0FBSyxJQUFJLElBQVRBLElBQWlCLE9BQU9BLEtBQVAsS0FBaUIsU0FBN0M7QUFBQSxHQURUZixFQUVFZ0IsR0FGRmhCLENBRU0sVUFBQ2UsS0FBRCxFQUFRRSxDQUFSLEVBQWM7QUFDakIsUUFDRUEsQ0FBQyxLQUFLLENBQU5BLElBQ0FqQixLQUFLLENBQUNrQixjQUFObEIsQ0FBcUJlLEtBQXJCZixDQURBaUIsSUFFQUYsS0FBSyxDQUFDSSxJQUFOSixLQUFlSyxzQkFIakIsRUFJRTtBQUVBLGFBQU9wQixLQUFLLENBQUNxQixZQUFOckIsQ0FBbUJlLEtBQW5CZixFQUEwQjtBQUMvQkYsYUFBSyxFQUFFLENBQUM7QUFBRXdCLG9CQUFVLEVBQUU7QUFBZCxTQUFELEVBQXFCUCxLQUFLLENBQUNRLEtBQU5SLENBQVlqQixLQUFqQztBQUR3QixPQUExQkUsQ0FBUDtBQUdEOztBQUVELFdBQU9lLEtBQVA7QUFkSCxJQWhCSCxDQVJhO0FBQUEsQ0FBZjs7QUE0Q0F0QixNQUFNLENBQUMrQixPQUFQL0IsR0FBaUIyQixzQkFBakIzQjtBQUVBQSxNQUFNLENBQUNnQyxPQUFQaEMsR0FBaUJpQyxzQkFBakJqQztBQUVBQSxNQUFNLENBQUNrQyxLQUFQbEMsR0FBZW1DLHFCQUFmbkM7QUFFQUEsTUFBTSxDQUFDb0MsVUFBUHBDLEdBQW9CcUMseUJBQXBCckM7O0FBRUEsSUFBTWlCLE1BQU0sR0FBR3FCLHdCQUFXQyxNQUFYRCxDQUFrQjtBQUMvQnBCLFdBQVMsRUFBRTtBQVFUc0Isa0JBQWMsRUFBRUMsc0JBQVNDLEVBQVRELEtBQWdCLFNBQWhCQSxHQUE0QixFQUE1QkEsR0FBaUMsQ0FSeEM7QUFTVEUsb0JBQWdCLEVBQUUsRUFUVDtBQVVUQyxhQUFTLEVBQUU3QyxnQkFWRjtBQVdUOEMsa0JBQWMsRUFBRTtBQVhQO0FBRG9CLENBQWxCUCxDQUFmOztlQWdCZSx3QkFBVXRDLE1BQVYiLCJuYW1lcyI6WyJESUFMT0dfRUxFVkFUSU9OIiwiRGlhbG9nIiwiY2hpbGRyZW4iLCJkaXNtaXNzYWJsZSIsIm9uRGlzbWlzcyIsInZpc2libGUiLCJzdHlsZSIsInRoZW1lIiwiUmVhY3QiLCJfTW9kYWwiLCJjb250ZW50Q29udGFpbmVyU3R5bGUiLCJib3JkZXJSYWRpdXMiLCJyb3VuZG5lc3MiLCJiYWNrZ3JvdW5kQ29sb3IiLCJkYXJrIiwibW9kZSIsImNvbG9ycyIsInN1cmZhY2UiLCJzdHlsZXMiLCJjb250YWluZXIiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJmaWx0ZXIiLCJjaGlsZCIsIm1hcCIsImkiLCJpc1ZhbGlkRWxlbWVudCIsInR5cGUiLCJEaWFsb2dDb250ZW50IiwiY2xvbmVFbGVtZW50IiwicGFkZGluZ1RvcCIsInByb3BzIiwiQ29udGVudCIsIkFjdGlvbnMiLCJEaWFsb2dBY3Rpb25zIiwiVGl0bGUiLCJEaWFsb2dUaXRsZSIsIlNjcm9sbEFyZWEiLCJEaWFsb2dTY3JvbGxBcmVhIiwiU3R5bGVTaGVldCIsImNyZWF0ZSIsIm1hcmdpblZlcnRpY2FsIiwiUGxhdGZvcm0iLCJPUyIsIm1hcmdpbkhvcml6b250YWwiLCJlbGV2YXRpb24iLCJqdXN0aWZ5Q29udGVudCJdLCJzb3VyY2VzIjpbIkRpYWxvZy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3R5bGVTaGVldCwgUGxhdGZvcm0sIFN0eWxlUHJvcCwgVmlld1N0eWxlIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBNb2RhbCBmcm9tICcuLi9Nb2RhbCc7XG5pbXBvcnQgRGlhbG9nQ29udGVudCBmcm9tICcuL0RpYWxvZ0NvbnRlbnQnO1xuaW1wb3J0IERpYWxvZ0FjdGlvbnMgZnJvbSAnLi9EaWFsb2dBY3Rpb25zJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbmltcG9ydCBEaWFsb2dUaXRsZSwgeyBEaWFsb2dUaXRsZSBhcyBfRGlhbG9nVGl0bGUgfSBmcm9tICcuL0RpYWxvZ1RpdGxlJztcbmltcG9ydCBEaWFsb2dTY3JvbGxBcmVhIGZyb20gJy4vRGlhbG9nU2Nyb2xsQXJlYSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICcuLi8uLi9jb3JlL3RoZW1pbmcnO1xuaW1wb3J0IG92ZXJsYXkgZnJvbSAnLi4vLi4vc3R5bGVzL292ZXJsYXknO1xuXG50eXBlIFByb3BzID0ge1xuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIGNsaWNraW5nIG91dHNpZGUgdGhlIGRpYWxvZyBkaXNtaXNzIGl0LlxuICAgKi9cbiAgZGlzbWlzc2FibGU/OiBib29sZWFuO1xuICAvKipcbiAgICogQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgdXNlciBkaXNtaXNzZXMgdGhlIGRpYWxvZy5cbiAgICovXG4gIG9uRGlzbWlzcz86ICgpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIFdoZXRoZXIgdGhlIGRpYWxvZyBpcyB2aXNpYmxlLlxuICAgKi9cbiAgdmlzaWJsZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENvbnRlbnQgb2YgdGhlIGBEaWFsb2dgLlxuICAgKi9cbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgc3R5bGU/OiBTdHlsZVByb3A8Vmlld1N0eWxlPjtcbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKi9cbiAgdGhlbWU6IFJlYWN0TmF0aXZlUGFwZXIuVGhlbWU7XG59O1xuXG5jb25zdCBESUFMT0dfRUxFVkFUSU9OOiBudW1iZXIgPSAyNDtcblxuLyoqXG4gKiBEaWFsb2dzIGluZm9ybSB1c2VycyBhYm91dCBhIHNwZWNpZmljIHRhc2sgYW5kIG1heSBjb250YWluIGNyaXRpY2FsIGluZm9ybWF0aW9uLCByZXF1aXJlIGRlY2lzaW9ucywgb3IgaW52b2x2ZSBtdWx0aXBsZSB0YXNrcy5cbiAqIFRvIHJlbmRlciB0aGUgYERpYWxvZ2AgYWJvdmUgb3RoZXIgY29tcG9uZW50cywgeW91J2xsIG5lZWQgdG8gd3JhcCBpdCB3aXRoIHRoZSBbYFBvcnRhbGBdKHBvcnRhbC5odG1sKSBjb21wb25lbnQuXG4gKlxuICogIDxkaXYgY2xhc3M9XCJzY3JlZW5zaG90c1wiPlxuICogICA8aW1nIGNsYXNzPVwibWVkaXVtXCIgc3JjPVwic2NyZWVuc2hvdHMvZGlhbG9nLTEucG5nXCIgLz5cbiAqICAgPGltZyBjbGFzcz1cIm1lZGl1bVwiIHNyYz1cInNjcmVlbnNob3RzL2RpYWxvZy0yLnBuZ1wiIC8+XG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyBVc2FnZVxuICogYGBganNcbiAqIGltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbiAqIGltcG9ydCB7IFZpZXcgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuICogaW1wb3J0IHsgQnV0dG9uLCBQYXJhZ3JhcGgsIERpYWxvZywgUG9ydGFsLCBQcm92aWRlciB9IGZyb20gJ3JlYWN0LW5hdGl2ZS1wYXBlcic7XG4gKlxuICogY29uc3QgTXlDb21wb25lbnQgPSAoKSA9PiB7XG4gKiAgIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAqXG4gKiAgIGNvbnN0IHNob3dEaWFsb2cgPSAoKSA9PiBzZXRWaXNpYmxlKHRydWUpO1xuICpcbiAqICAgY29uc3QgaGlkZURpYWxvZyA9ICgpID0+IHNldFZpc2libGUoZmFsc2UpO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8UHJvdmlkZXI+XG4gKiAgICAgICA8Vmlldz5cbiAqICAgICAgICAgPEJ1dHRvbiBvblByZXNzPXtzaG93RGlhbG9nfT5TaG93IERpYWxvZzwvQnV0dG9uPlxuICogICAgICAgICA8UG9ydGFsPlxuICogICAgICAgICAgIDxEaWFsb2cgdmlzaWJsZT17dmlzaWJsZX0gb25EaXNtaXNzPXtoaWRlRGlhbG9nfT5cbiAqICAgICAgICAgICAgIDxEaWFsb2cuVGl0bGU+QWxlcnQ8L0RpYWxvZy5UaXRsZT5cbiAqICAgICAgICAgICAgIDxEaWFsb2cuQ29udGVudD5cbiAqICAgICAgICAgICAgICAgPFBhcmFncmFwaD5UaGlzIGlzIHNpbXBsZSBkaWFsb2c8L1BhcmFncmFwaD5cbiAqICAgICAgICAgICAgIDwvRGlhbG9nLkNvbnRlbnQ+XG4gKiAgICAgICAgICAgICA8RGlhbG9nLkFjdGlvbnM+XG4gKiAgICAgICAgICAgICAgIDxCdXR0b24gb25QcmVzcz17aGlkZURpYWxvZ30+RG9uZTwvQnV0dG9uPlxuICogICAgICAgICAgICAgPC9EaWFsb2cuQWN0aW9ucz5cbiAqICAgICAgICAgICA8L0RpYWxvZz5cbiAqICAgICAgICAgPC9Qb3J0YWw+XG4gKiAgICAgICA8L1ZpZXc+XG4gKiAgICAgPC9Qcm92aWRlcj5cbiAqICAgKTtcbiAqIH07XG4gKlxuICogZXhwb3J0IGRlZmF1bHQgTXlDb21wb25lbnQ7XG4gKiBgYGBcbiAqL1xuY29uc3QgRGlhbG9nID0gKHtcbiAgY2hpbGRyZW4sXG4gIGRpc21pc3NhYmxlID0gdHJ1ZSxcbiAgb25EaXNtaXNzLFxuICB2aXNpYmxlID0gZmFsc2UsXG4gIHN0eWxlLFxuICB0aGVtZSxcbn06IFByb3BzKSA9PiAoXG4gIDxNb2RhbFxuICAgIGRpc21pc3NhYmxlPXtkaXNtaXNzYWJsZX1cbiAgICBvbkRpc21pc3M9e29uRGlzbWlzc31cbiAgICB2aXNpYmxlPXt2aXNpYmxlfVxuICAgIGNvbnRlbnRDb250YWluZXJTdHlsZT17W1xuICAgICAge1xuICAgICAgICBib3JkZXJSYWRpdXM6IHRoZW1lLnJvdW5kbmVzcyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOlxuICAgICAgICAgIHRoZW1lLmRhcmsgJiYgdGhlbWUubW9kZSA9PT0gJ2FkYXB0aXZlJ1xuICAgICAgICAgICAgPyBvdmVybGF5KERJQUxPR19FTEVWQVRJT04sIHRoZW1lLmNvbG9ycy5zdXJmYWNlKVxuICAgICAgICAgICAgOiB0aGVtZS5jb2xvcnMuc3VyZmFjZSxcbiAgICAgIH0sXG4gICAgICBzdHlsZXMuY29udGFpbmVyLFxuICAgICAgc3R5bGUsXG4gICAgXX1cbiAgPlxuICAgIHtSZWFjdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKVxuICAgICAgLmZpbHRlcigoY2hpbGQpID0+IGNoaWxkICE9IG51bGwgJiYgdHlwZW9mIGNoaWxkICE9PSAnYm9vbGVhbicpXG4gICAgICAubWFwKChjaGlsZCwgaSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaSA9PT0gMCAmJlxuICAgICAgICAgIFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSAmJlxuICAgICAgICAgIGNoaWxkLnR5cGUgPT09IERpYWxvZ0NvbnRlbnRcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gRGlhbG9nIGNvbnRlbnQgaXMgdGhlIGZpcnN0IGl0ZW0sIHNvIHdlIGFkZCBhIHRvcCBwYWRkaW5nXG4gICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgICAgICAgc3R5bGU6IFt7IHBhZGRpbmdUb3A6IDI0IH0sIGNoaWxkLnByb3BzLnN0eWxlXSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgIH0pfVxuICA8L01vZGFsPlxuKTtcblxuLy8gQGNvbXBvbmVudCAuL0RpYWxvZ0NvbnRlbnQudHN4XG5EaWFsb2cuQ29udGVudCA9IERpYWxvZ0NvbnRlbnQ7XG4vLyBAY29tcG9uZW50IC4vRGlhbG9nQWN0aW9ucy50c3hcbkRpYWxvZy5BY3Rpb25zID0gRGlhbG9nQWN0aW9ucztcbi8vIEBjb21wb25lbnQgLi9EaWFsb2dUaXRsZS50c3hcbkRpYWxvZy5UaXRsZSA9IERpYWxvZ1RpdGxlO1xuLy8gQGNvbXBvbmVudCAuL0RpYWxvZ1Njcm9sbEFyZWEudHN4XG5EaWFsb2cuU2Nyb2xsQXJlYSA9IERpYWxvZ1Njcm9sbEFyZWE7XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgY29udGFpbmVyOiB7XG4gICAgLyoqXG4gICAgICogVGhpcyBwcmV2ZW50cyB0aGUgc2hhZG93IGZyb20gYmVpbmcgY2xpcHBlZCBvbiBBbmRyb2lkIHNpbmNlIEFuZHJvaWRcbiAgICAgKiBkb2Vzbid0IHN1cHBvcnQgYG92ZXJmbG93OiB2aXNpYmxlYC5cbiAgICAgKiBPbmUgZG93bnNpZGUgZm9yIHRoaXMgZml4IGlzIHRoYXQgaXQgd2lsbCBkaXNhYmxlIGNsaWNrcyBvbiB0aGUgYXJlYVxuICAgICAqIG9mIHRoZSBzaGFkb3cgYXJvdW5kIHRoZSBkaWFsb2csIGNvbnNlcXVlbnRseSwgaWYgeW91IGNsaWNrIGFyb3VuZCB0aGVcbiAgICAgKiBkaWFsb2cgKDQ0IHBpeGVsIGZyb20gdGhlIHRvcCBhbmQgYm90dG9tKSBpdCB3b24ndCBiZSBkaXNtaXNzZWQuXG4gICAgICovXG4gICAgbWFyZ2luVmVydGljYWw6IFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgPyA0NCA6IDAsXG4gICAgbWFyZ2luSG9yaXpvbnRhbDogMjYsXG4gICAgZWxldmF0aW9uOiBESUFMT0dfRUxFVkFUSU9OLFxuICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcsXG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgd2l0aFRoZW1lKERpYWxvZyk7XG4iXX0=