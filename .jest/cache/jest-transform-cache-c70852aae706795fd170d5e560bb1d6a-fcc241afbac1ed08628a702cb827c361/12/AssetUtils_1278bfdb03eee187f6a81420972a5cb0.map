{"version":3,"sources":["AssetUtils.js"],"names":["cacheBreaker","warnIfCacheBreakerUnset","pickScale","scales","deviceScale","PixelRatio","get","i","length","setUrlCacheBreaker","appendage","getUrlCacheBreaker","__DEV__","console","warn"],"mappings":";;;;;;;;;AAUA;;AAEA,IAAIA,YAAJ;AACA,IAAIC,uBAAuB,GAAG,IAA9B;;AAEO,SAASC,SAAT,CAAmBC,MAAnB,EAA0CC,WAA1C,EAAwE;AAC7E,MAAIA,WAAW,IAAI,IAAnB,EAAyB;AACvBA,IAAAA,WAAW,GAAGC,oBAAWC,GAAX,EAAd;AACD;;AAED,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,MAAM,CAACK,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtC,QAAIJ,MAAM,CAACI,CAAD,CAAN,IAAaH,WAAjB,EAA8B;AAC5B,aAAOD,MAAM,CAACI,CAAD,CAAb;AACD;AACF;;AAKD,SAAOJ,MAAM,CAACA,MAAM,CAACK,MAAP,GAAgB,CAAjB,CAAN,IAA6B,CAApC;AACD;;AAEM,SAASC,kBAAT,CAA4BC,SAA5B,EAA+C;AACpDV,EAAAA,YAAY,GAAGU,SAAf;AACD;;AAEM,SAASC,kBAAT,GAAsC;AAC3C,MAAIX,YAAY,IAAI,IAApB,EAA0B;AACxB,QAAIY,OAAO,IAAIX,uBAAf,EAAwC;AACtCA,MAAAA,uBAAuB,GAAG,KAA1B;AACAY,MAAAA,OAAO,CAACC,IAAR,CACE,6DADF;AAGD;;AACD,WAAO,EAAP;AACD;;AACD,SAAOd,YAAP;AACD","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n * @format\n */\n\nimport PixelRatio from '../Utilities/PixelRatio';\n\nlet cacheBreaker;\nlet warnIfCacheBreakerUnset = true;\n\nexport function pickScale(scales: Array<number>, deviceScale?: number): number {\n  if (deviceScale == null) {\n    deviceScale = PixelRatio.get();\n  }\n  // Packager guarantees that `scales` array is sorted\n  for (let i = 0; i < scales.length; i++) {\n    if (scales[i] >= deviceScale) {\n      return scales[i];\n    }\n  }\n\n  // If nothing matches, device scale is larger than any available\n  // scales, so we return the biggest one. Unless the array is empty,\n  // in which case we default to 1\n  return scales[scales.length - 1] || 1;\n}\n\nexport function setUrlCacheBreaker(appendage: string) {\n  cacheBreaker = appendage;\n}\n\nexport function getUrlCacheBreaker(): string {\n  if (cacheBreaker == null) {\n    if (__DEV__ && warnIfCacheBreakerUnset) {\n      warnIfCacheBreakerUnset = false;\n      console.warn(\n        'AssetUtils.getUrlCacheBreaker: Cache breaker value is unset',\n      );\n    }\n    return '';\n  }\n  return cacheBreaker;\n}\n"]}