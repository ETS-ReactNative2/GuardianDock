{"version":3,"mappings":";;;;;;;;;;;;;AAAA;;;;;;;;AAEe,SAASA,kBAAT,CAA4BC,QAA5B,EAAgDC,GAAhD,EAA6D;AAC1E,uDAAqBD,QAArB,wCAA+B;AAAA,QAApBE,MAAoB;;AAAA;;AAC7B,QAAMC,QAAQ,sCAAGD,MAAM,CAACE,KAAPF,CAAa,SAAbA,CAAH,kDAAGG,cAA0B,CAA1B,CAAH,2DAAmC,EAAjD;AACA,QAAMC,IAAI,GAAGJ,MAAM,CAChBK,OADUL,CACF,IAAIM,MAAJ,OAAe,iCAAmBL,QAAnB,CAAf,CADED,EAC8C,EAD9CA,EAEVK,OAFUL,CAEF,MAFEA,EAEM,GAFNA,EAGVK,OAHUL,CAGF,KAHEA,EAGK,EAHLA,CAAb;AAKA,QAAMO,WAAW,GAAG,IAAID,MAAJ,OACd,iCAAmBL,QAAnB,CADc,YACqBG,IAAI,CACxCI,KADoCJ,CAC9B,GAD8BA,EAEpCK,GAFoCL,CAE/BM,YAAD;AAAA,aAASA,EAAE,KAAK,GAAPA,GAAa,OAAbA,GAAuB,iCAAmBA,EAAnB,CAAhC;AAAA,KAFgCN,EAGpCO,IAHoCP,CAG/B,KAH+BA,CADrB,CAApB;AAOA,QAAMQ,aAAa,GAAGb,GAAG,CAACM,OAAJN,CAAY,MAAZA,EAAoB,GAApBA,CAAtB;;AAEA,QAAIQ,WAAW,CAACM,IAAZN,CAAiBK,aAAjBL,CAAJ,EAAqC;AACnC,aAAOK,aAAa,CAACP,OAAdO,CAAsBL,WAAtBK,EAAmC,EAAnCA,CAAP;AACD;AACF;;AAED,SAAOE,SAAP;AACD","names":["extractPathFromURL","prefixes","url","prefix","protocol","match","_prefix$match","host","replace","RegExp","prefixRegex","split","map","it","join","normalizedURL","test","undefined"],"sources":["extractPathFromURL.tsx"],"sourcesContent":["import escapeStringRegexp from 'escape-string-regexp';\n\nexport default function extractPathFromURL(prefixes: string[], url: string) {\n  for (const prefix of prefixes) {\n    const protocol = prefix.match(/^[^:]+:/)?.[0] ?? '';\n    const host = prefix\n      .replace(new RegExp(`^${escapeStringRegexp(protocol)}`), '')\n      .replace(/\\/+/g, '/') // Replace multiple slash (//) with single ones\n      .replace(/^\\//, ''); // Remove extra leading slash\n\n    const prefixRegex = new RegExp(\n      `^${escapeStringRegexp(protocol)}(/)*${host\n        .split('.')\n        .map((it) => (it === '*' ? '[^/]+' : escapeStringRegexp(it)))\n        .join('\\\\.')}`\n    );\n\n    const normalizedURL = url.replace(/\\/+/g, '/');\n\n    if (prefixRegex.test(normalizedURL)) {\n      return normalizedURL.replace(prefixRegex, '');\n    }\n  }\n\n  return undefined;\n}\n"]}